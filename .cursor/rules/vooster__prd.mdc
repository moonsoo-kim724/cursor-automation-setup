---
description:
globs:
alwaysApply: true
---
# 제품 요구사항 문서(PRD)

## 1. 개요
본 통합시스템은 SEO 최적화된 랜딩페이지에서 Typebot+GPT 챗봇(‘눈콩이’)으로 사용자를 상담 유도하고, 상담 데이터(리드)를 Supabase에 저장 후 Google Sheets/Airtable로 동기화, 이메일 뉴스레터 및 Slack 알림을 자동 발송하는 워크플로우를 제공합니다. 향후 EMR 연동 확장성을 고려하며, 30주년 브랜드 신뢰와 리드→예약 전환율 극대화가 목표입니다.

## 2. 문제 정의
1. 기존 홈페이지는 정보 탐색–상담–예약 흐름이 단절돼 전환율이 낮음  
2. 전화 중심 상담으로 병원·사용자 모두 시간·비용 부담 발행  
3. SEO/AEO 미흡으로 검색 가시성이 낮아 신규 유입이 제한됨  
4. 예약·상담 데이터가 분산돼 CRM 및 마케팅 자동화가 어려움

## 3. 목표 및 지표
- 1차 목표: AI 상담→예약까지 원스톱 퍼널 구축  
- 2차 목표: 브랜드 콘텐츠 강화 및 SEO 상위 10위 달성  
- 정량 지표  
  • 월간 신규 리드 1,000건  
  • 예약 전환율 35%  
  • 챗봇 만족도(5점 척도) 4.8 이상  
  • 유입 키워드 300개 이상, 페이지 로딩 <2초

## 4. 대상 사용자
### 주요 사용자
- 20~60대, 시력교정·백내장·노안·안구건조증 등 관심자  
- 모바일 검색·SNS 활용 비중이 높고 즉시 상담을 선호  
### 이해관계자
- 병원 원장단·스태프, 마케팅팀, IT팀

## 5. 사용자 스토리
- “안과 수술 전후 주의사항을 즉시 알고 싶다.”  
- “모바일로 간단히 예약하고 카톡 알림을 받고 싶다.”  
- “상담 내역을 이메일로 저장하고 싶다.”  
- “영어로도 정보를 보고 싶다(해외 환자).”  
- “병원 위치를 문자로 받아 네비게이션을 켜고 싶다.”

## 6. 기능 요구사항
### 핵심 기능
| 기능 | 설명 | 수용 기준 |
|------|------|-----------|
| Typebot+GPT 챗봇(눈콩이) | 관심질환 선택, 자연어 Q&A, "설명이 도움이 되셨나요?" 및 예약 CTA | 관심분야 선택, 95% 질문 이해, 응답 <3초, 예약 폼 연결 |
| 리드 챗봇(Typebot) | 예약·상담 정보 폼, 사용자 입력 Webhook → Supabase 저장 | 이름·연락처·이메일·관심분야·문의내용 → Supabase 저장 |
| 자동화 연동 | Supabase 신규 리드→Google Sheets/Airtable 동기화, 이메일/Slack 알림 | 신규 리드 발생 시 Google Sheets/Airtable 추가, 뉴스레터·Slack 알림 자동 발송 |
| 이메일/Slack 알림 | 신규 리드 발생 시 자동 발송 | 메일/Slack 템플릿 정확도 100%, 개인정보 최소화 |
| SEO/AEO | 메타태그, 시마틱 마크업 | Lighthouse SEO 95+, 구글 서치콘솔 에러 0 |
| 다국어(i18n) | KO/EN 기본, 확장 가능 | 언어 전환 버튼, URL 구조 locale 반영 |
| SNS CTA | 인스타·블로그·숏츠 링크 | 클릭 추적, GA 이벤트 연동 |
| FAQ 자동 생성 | AI로 빈도 높은 질문 업데이트 | 주 1회 이상 자동 학습 및 게시 |
| 위치·교통 안내 | 지도 임베딩, 문자/카톡 전송 | 클릭 후 5초 내 링크 수신 |

### 보조 기능
- 데이터시각화 대시보드(리드·예약·전환율)
- A/B 테스트 모듈
- 관리자 FAQ CRUD UI
- 장애 알림(Slack, 이메일)

## 7. 비기능 요구사항
- 성능: FCP <1.5s, TTFB <200ms  
- 보안: RLS, 개인정보 암호화, HTTPS 강제, HIPAA 수준  
- 가용성: 99.9% SLA (Vercel+Supabase)  
- 확장성: pgvector 기반 지식베이스 증분학습  
- 호환성: 최신 Chrome, Safari, Edge, iOS/Android WebView

## 8. 기술 고려사항
- 프런트엔드: Next.js14, React18, TypeScript, Tailwind, shadcn/ui  
- 백엔드: Supabase(PostgreSQL, Edge Functions, Realtime, Auth)  
- AI: OpenAI GPT-4o, text-embedding-3-large, pgvector  
- 메시징: KakaoTalk Biz API, Resend(Email), Slack, Twilio(SMS)  
- 배포: Vercel CDN, Supabase 인프라, 독립 도메인 https://ysk-eye.ai  
- 분석: Vercel Analytics, GA4, Supabase Analytics  
- CI/CD: GitHub Actions→Vercel 자동배포, Supabase CLI

## 9. 핵심 성과지표(KPI)
1. 기술: Lighthouse 95+/100, API 오류율 <0.5%  
2. 비즈니스: 월 예약 350건, CAC 20% 절감  
3. 사용자: 챗봇 재방문율 40%, 뉴스레터 구독률 15%

## 10. 일정·마일스톤
| 주차 | 주요 산출물 |
|------|------------|
| W1 (MVP) | 랜딩페이지 베이스, GPTs 링크, 예약 폼, 카톡 알림, 기본 SEO |
| W2 | Typebot 퍼널 고도화, 이메일·Slack 연동, 다국어, FAQ, 지도 |
| W3 | 벡터 검색, 리마인더 자동화, A/B 테스트, 성능 최적화 |
| W4 | 사용자 피드백 반영, 콘텐츠 확장, 공식 론칭 |

## 11. 리스크 및 대응
- 의료 정보 정확도 → 전문의 주 1회 검수 프로세스  
- 카카오 API 요금 변화 → 대체 채널(SMS/Telegram) 백업  
- 데이터 유출 → 주기적 보안점검·침해사고 대응 매뉴얼  
- AI 오답 이슈 → 추천 강도 조절, 사람이 개입가능한 “전문가 연결” 버튼

## 12. 향후 계획
- 음성 챗봇(Voice AI) 및 전화예약 IVR 연동  
- EMR·보험청구 시스템 통합  
- 웨어러블 연동(시력측정 결과 자동 수집)  
- 오프라인 키오스크 앱 확장

(문서 길이: 약 5,100자)

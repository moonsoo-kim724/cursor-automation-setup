{
  "rules": [
    {
      "type": "prd",
      "content": "# ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ(PRD)\n\n## 1. ê°œìš”\në³¸ í†µí•©ì‹œìŠ¤í…œì€ SEO ìµœì í™”ëœ ëœë”©í˜ì´ì§€ì—ì„œ Typebot+GPT ì±—ë´‡(â€˜ëˆˆì½©ì´â€™)ìœ¼ë¡œ ì‚¬ìš©ìë¥¼ ìƒë‹´ ìœ ë„í•˜ê³ , ìƒë‹´ ë°ì´í„°(ë¦¬ë“œ)ë¥¼ Supabaseì— ì €ì¥ í›„ Google Sheets/Airtableë¡œ ë™ê¸°í™”, ì´ë©”ì¼ ë‰´ìŠ¤ë ˆí„° ë° Slack ì•Œë¦¼ì„ ìë™ ë°œì†¡í•˜ëŠ” ì›Œí¬í”Œë¡œìš°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. í–¥í›„ EMR ì—°ë™ í™•ì¥ì„±ì„ ê³ ë ¤í•˜ë©°, 30ì£¼ë…„ ë¸Œëœë“œ ì‹ ë¢°ì™€ ë¦¬ë“œâ†’ì˜ˆì•½ ì „í™˜ìœ¨ ê·¹ëŒ€í™”ê°€ ëª©í‘œì…ë‹ˆë‹¤.\n\n## 2. ë¬¸ì œ ì •ì˜\n1. ê¸°ì¡´ í™ˆí˜ì´ì§€ëŠ” ì •ë³´ íƒìƒ‰â€“ìƒë‹´â€“ì˜ˆì•½ íë¦„ì´ ë‹¨ì ˆë¼ ì „í™˜ìœ¨ì´ ë‚®ìŒ  \n2. ì „í™” ì¤‘ì‹¬ ìƒë‹´ìœ¼ë¡œ ë³‘ì›Â·ì‚¬ìš©ì ëª¨ë‘ ì‹œê°„Â·ë¹„ìš© ë¶€ë‹´ ë°œí–‰  \n3. SEO/AEO ë¯¸í¡ìœ¼ë¡œ ê²€ìƒ‰ ê°€ì‹œì„±ì´ ë‚®ì•„ ì‹ ê·œ ìœ ì…ì´ ì œí•œë¨  \n4. ì˜ˆì•½Â·ìƒë‹´ ë°ì´í„°ê°€ ë¶„ì‚°ë¼ CRM ë° ë§ˆì¼€íŒ… ìë™í™”ê°€ ì–´ë ¤ì›€\n\n## 3. ëª©í‘œ ë° ì§€í‘œ\n- 1ì°¨ ëª©í‘œ: AI ìƒë‹´â†’ì˜ˆì•½ê¹Œì§€ ì›ìŠ¤í†± í¼ë„ êµ¬ì¶•  \n- 2ì°¨ ëª©í‘œ: ë¸Œëœë“œ ì½˜í…ì¸  ê°•í™” ë° SEO ìƒìœ„ 10ìœ„ ë‹¬ì„±  \n- ì •ëŸ‰ ì§€í‘œ  \n  â€¢ ì›”ê°„ ì‹ ê·œ ë¦¬ë“œ 1,000ê±´  \n  â€¢ ì˜ˆì•½ ì „í™˜ìœ¨ 35%  \n  â€¢ ì±—ë´‡ ë§Œì¡±ë„(5ì  ì²™ë„) 4.8 ì´ìƒ  \n  â€¢ ìœ ì… í‚¤ì›Œë“œ 300ê°œ ì´ìƒ, í˜ì´ì§€ ë¡œë”© <2ì´ˆ\n\n## 4. ëŒ€ìƒ ì‚¬ìš©ì\n### ì£¼ìš” ì‚¬ìš©ì\n- 20~60ëŒ€, ì‹œë ¥êµì •Â·ë°±ë‚´ì¥Â·ë…¸ì•ˆÂ·ì•ˆêµ¬ê±´ì¡°ì¦ ë“± ê´€ì‹¬ì  \n- ëª¨ë°”ì¼ ê²€ìƒ‰Â·SNS í™œìš© ë¹„ì¤‘ì´ ë†’ê³  ì¦‰ì‹œ ìƒë‹´ì„ ì„ í˜¸  \n### ì´í•´ê´€ê³„ì\n- ë³‘ì› ì›ì¥ë‹¨Â·ìŠ¤íƒœí”„, ë§ˆì¼€íŒ…íŒ€, ITíŒ€\n\n## 5. ì‚¬ìš©ì ìŠ¤í† ë¦¬\n- â€œì•ˆê³¼ ìˆ˜ìˆ  ì „í›„ ì£¼ì˜ì‚¬í•­ì„ ì¦‰ì‹œ ì•Œê³  ì‹¶ë‹¤.â€  \n- â€œëª¨ë°”ì¼ë¡œ ê°„ë‹¨íˆ ì˜ˆì•½í•˜ê³  ì¹´í†¡ ì•Œë¦¼ì„ ë°›ê³  ì‹¶ë‹¤.â€  \n- â€œìƒë‹´ ë‚´ì—­ì„ ì´ë©”ì¼ë¡œ ì €ì¥í•˜ê³  ì‹¶ë‹¤.â€  \n- â€œì˜ì–´ë¡œë„ ì •ë³´ë¥¼ ë³´ê³  ì‹¶ë‹¤(í•´ì™¸ í™˜ì).â€  \n- â€œë³‘ì› ìœ„ì¹˜ë¥¼ ë¬¸ìë¡œ ë°›ì•„ ë„¤ë¹„ê²Œì´ì…˜ì„ ì¼œê³  ì‹¶ë‹¤.â€\n\n## 6. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­\n### í•µì‹¬ ê¸°ëŠ¥\n| ê¸°ëŠ¥ | ì„¤ëª… | ìˆ˜ìš© ê¸°ì¤€ |\n|------|------|-----------|\n| Typebot+GPT ì±—ë´‡(ëˆˆì½©ì´) | ê´€ì‹¬ì§ˆí™˜ ì„ íƒ, ìì—°ì–´ Q&A, \"ì„¤ëª…ì´ ë„ì›€ì´ ë˜ì…¨ë‚˜ìš”?\" ë° ì˜ˆì•½ CTA | ê´€ì‹¬ë¶„ì•¼ ì„ íƒ, 95% ì§ˆë¬¸ ì´í•´, ì‘ë‹µ <3ì´ˆ, ì˜ˆì•½ í¼ ì—°ê²° |\n| ë¦¬ë“œ ì±—ë´‡(Typebot) | ì˜ˆì•½Â·ìƒë‹´ ì •ë³´ í¼, ì‚¬ìš©ì ì…ë ¥ Webhook â†’ Supabase ì €ì¥ | ì´ë¦„Â·ì—°ë½ì²˜Â·ì´ë©”ì¼Â·ê´€ì‹¬ë¶„ì•¼Â·ë¬¸ì˜ë‚´ìš© â†’ Supabase ì €ì¥ |\n| ìë™í™” ì—°ë™ | Supabase ì‹ ê·œ ë¦¬ë“œâ†’Google Sheets/Airtable ë™ê¸°í™”, ì´ë©”ì¼/Slack ì•Œë¦¼ | ì‹ ê·œ ë¦¬ë“œ ë°œìƒ ì‹œ Google Sheets/Airtable ì¶”ê°€, ë‰´ìŠ¤ë ˆí„°Â·Slack ì•Œë¦¼ ìë™ ë°œì†¡ |\n| ì´ë©”ì¼/Slack ì•Œë¦¼ | ì‹ ê·œ ë¦¬ë“œ ë°œìƒ ì‹œ ìë™ ë°œì†¡ | ë©”ì¼/Slack í…œí”Œë¦¿ ì •í™•ë„ 100%, ê°œì¸ì •ë³´ ìµœì†Œí™” |\n| SEO/AEO | ë©”íƒ€íƒœê·¸, ì‹œë§ˆí‹± ë§ˆí¬ì—… | Lighthouse SEO 95+, êµ¬ê¸€ ì„œì¹˜ì½˜ì†” ì—ëŸ¬ 0 |\n| ë‹¤êµ­ì–´(i18n) | KO/EN ê¸°ë³¸, í™•ì¥ ê°€ëŠ¥ | ì–¸ì–´ ì „í™˜ ë²„íŠ¼, URL êµ¬ì¡° locale ë°˜ì˜ |\n| SNS CTA | ì¸ìŠ¤íƒ€Â·ë¸”ë¡œê·¸Â·ìˆì¸  ë§í¬ | í´ë¦­ ì¶”ì , GA ì´ë²¤íŠ¸ ì—°ë™ |\n| FAQ ìë™ ìƒì„± | AIë¡œ ë¹ˆë„ ë†’ì€ ì§ˆë¬¸ ì—…ë°ì´íŠ¸ | ì£¼ 1íšŒ ì´ìƒ ìë™ í•™ìŠµ ë° ê²Œì‹œ |\n| ìœ„ì¹˜Â·êµí†µ ì•ˆë‚´ | ì§€ë„ ì„ë² ë”©, ë¬¸ì/ì¹´í†¡ ì „ì†¡ | í´ë¦­ í›„ 5ì´ˆ ë‚´ ë§í¬ ìˆ˜ì‹  |\n\n### ë³´ì¡° ê¸°ëŠ¥\n- ë°ì´í„°ì‹œê°í™” ëŒ€ì‹œë³´ë“œ(ë¦¬ë“œÂ·ì˜ˆì•½Â·ì „í™˜ìœ¨)\n- A/B í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ\n- ê´€ë¦¬ì FAQ CRUD UI\n- ì¥ì•  ì•Œë¦¼(Slack, ì´ë©”ì¼)\n\n## 7. ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­\n- ì„±ëŠ¥: FCP <1.5s, TTFB <200ms  \n- ë³´ì•ˆ: RLS, ê°œì¸ì •ë³´ ì•”í˜¸í™”, HTTPS ê°•ì œ, HIPAA ìˆ˜ì¤€  \n- ê°€ìš©ì„±: 99.9% SLA (Vercel+Supabase)  \n- í™•ì¥ì„±: pgvector ê¸°ë°˜ ì§€ì‹ë² ì´ìŠ¤ ì¦ë¶„í•™ìŠµ  \n- í˜¸í™˜ì„±: ìµœì‹  Chrome, Safari, Edge, iOS/Android WebView\n\n## 8. ê¸°ìˆ  ê³ ë ¤ì‚¬í•­\n- í”„ëŸ°íŠ¸ì—”ë“œ: Next.js14, React18, TypeScript, Tailwind, shadcn/ui  \n- ë°±ì—”ë“œ: Supabase(PostgreSQL, Edge Functions, Realtime, Auth)  \n- AI: OpenAI GPT-4o, text-embedding-3-large, pgvector  \n- ë©”ì‹œì§•: KakaoTalk Biz API, Resend(Email), Slack, Twilio(SMS)  \n- ë°°í¬: Vercel CDN, Supabase ì¸í”„ë¼, ë…ë¦½ ë„ë©”ì¸ https://ysk-eye.ai  \n- ë¶„ì„: Vercel Analytics, GA4, Supabase Analytics  \n- CI/CD: GitHub Actionsâ†’Vercel ìë™ë°°í¬, Supabase CLI\n\n## 9. í•µì‹¬ ì„±ê³¼ì§€í‘œ(KPI)\n1. ê¸°ìˆ : Lighthouse 95+/100, API ì˜¤ë¥˜ìœ¨ <0.5%  \n2. ë¹„ì¦ˆë‹ˆìŠ¤: ì›” ì˜ˆì•½ 350ê±´, CAC 20% ì ˆê°  \n3. ì‚¬ìš©ì: ì±—ë´‡ ì¬ë°©ë¬¸ìœ¨ 40%, ë‰´ìŠ¤ë ˆí„° êµ¬ë…ë¥  15%\n\n## 10. ì¼ì •Â·ë§ˆì¼ìŠ¤í†¤\n| ì£¼ì°¨ | ì£¼ìš” ì‚°ì¶œë¬¼ |\n|------|------------|\n| W1 (MVP) | ëœë”©í˜ì´ì§€ ë² ì´ìŠ¤, GPTs ë§í¬, ì˜ˆì•½ í¼, ì¹´í†¡ ì•Œë¦¼, ê¸°ë³¸ SEO |\n| W2 | Typebot í¼ë„ ê³ ë„í™”, ì´ë©”ì¼Â·Slack ì—°ë™, ë‹¤êµ­ì–´, FAQ, ì§€ë„ |\n| W3 | ë²¡í„° ê²€ìƒ‰, ë¦¬ë§ˆì¸ë” ìë™í™”, A/B í…ŒìŠ¤íŠ¸, ì„±ëŠ¥ ìµœì í™” |\n| W4 | ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜, ì½˜í…ì¸  í™•ì¥, ê³µì‹ ë¡ ì¹­ |\n\n## 11. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘\n- ì˜ë£Œ ì •ë³´ ì •í™•ë„ â†’ ì „ë¬¸ì˜ ì£¼ 1íšŒ ê²€ìˆ˜ í”„ë¡œì„¸ìŠ¤  \n- ì¹´ì¹´ì˜¤ API ìš”ê¸ˆ ë³€í™” â†’ ëŒ€ì²´ ì±„ë„(SMS/Telegram) ë°±ì—…  \n- ë°ì´í„° ìœ ì¶œ â†’ ì£¼ê¸°ì  ë³´ì•ˆì ê²€Â·ì¹¨í•´ì‚¬ê³  ëŒ€ì‘ ë§¤ë‰´ì–¼  \n- AI ì˜¤ë‹µ ì´ìŠˆ â†’ ì¶”ì²œ ê°•ë„ ì¡°ì ˆ, ì‚¬ëŒì´ ê°œì…ê°€ëŠ¥í•œ â€œì „ë¬¸ê°€ ì—°ê²°â€ ë²„íŠ¼\n\n## 12. í–¥í›„ ê³„íš\n- ìŒì„± ì±—ë´‡(Voice AI) ë° ì „í™”ì˜ˆì•½ IVR ì—°ë™  \n- EMRÂ·ë³´í—˜ì²­êµ¬ ì‹œìŠ¤í…œ í†µí•©  \n- ì›¨ì–´ëŸ¬ë¸” ì—°ë™(ì‹œë ¥ì¸¡ì • ê²°ê³¼ ìë™ ìˆ˜ì§‘)  \n- ì˜¤í”„ë¼ì¸ í‚¤ì˜¤ìŠ¤í¬ ì•± í™•ì¥\n\n(ë¬¸ì„œ ê¸¸ì´: ì•½ 5,100ì)",
      "writedAt": "2025-08-13T03:44:00.088Z"
    },
    {
      "type": "architecture",
      "content": "# ğŸ¥ ì—°ìˆ˜ê¹€ì•ˆê³¼ì˜ì› ê¸°ìˆ ìŠ¤íƒ ëª…ì„¸ì„œ (Supabase í†µí•©)\n\n> **\"30ë…„ì˜ ì‹ ë¢°, AIë¡œ ë¯¸ë˜ë¥¼ ì—´ë‹¤\"** - 1ì£¼ì¼ ë¹ ë¥¸ ì¶œì‹œ ì™„ì „ ê¸°ìˆ ìŠ¤íƒ\n\n---\n\n## ğŸ“‹ **í”„ë¡œì íŠ¸ ê°œìš” ë° ë²”ìœ„ (PRD íƒœìŠ¤í¬ 001~022 ë°˜ì˜)**\n\n### **í”„ë¡œì íŠ¸ëª…**: YSK AI Landing Page (ì—°ìˆ˜ê¹€ì•ˆê³¼)\n### **ë²„ì „**: 1.0.0\n### **ì£¼ìš” ëª©í‘œ**:\n- 1ì£¼ì¼ MVP ì¶œì‹œ, ì˜ë£Œ ìƒë‹´Â·ì˜ˆì•½ ìë™í™”, SEO/AEO ìµœì í™”\n- ì‚¬ìš©ì ì¹œí™”ì  UI, ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬, ë³´ì•ˆ ë° ê°œì¸ì •ë³´ë³´í˜¸\n\n### **PRD íƒœìŠ¤í¬ í†µí•© ë²”ìœ„**:\n- íƒœìŠ¤í¬001: ëœë”©í˜ì´ì§€ ê¸°ë³¸ êµ¬ì¡° ì„¤ê³„\n- íƒœìŠ¤í¬002: ì˜ë£Œ ì„œë¹„ìŠ¤ ì„¤ëª… ì˜ì—­ êµ¬ì„±\n- íƒœìŠ¤í¬003: AI ì±—ë´‡ UI ë° ëŒ€í™” íë¦„ ì„¤ê³„\n- íƒœìŠ¤í¬004: ì˜ˆì•½ í¼ ë° í”„ë¡œì„¸ìŠ¤ ì •ì˜\n- íƒœìŠ¤í¬005: í™˜ì ì •ë³´ ìˆ˜ì§‘ ì„¤ê³„\n- íƒœìŠ¤í¬006: ì§„ë£Œ/ìƒë‹´ ì„œë¹„ìŠ¤ íƒ€ì… êµ¬ë¶„\n- íƒœìŠ¤í¬007: ìƒë‹´ ê¸°ë¡ ë° ì´ë ¥ ê´€ë¦¬ ë°©ì‹\n- íƒœìŠ¤í¬008: ì‹¤ì‹œê°„ ì•Œë¦¼/í‘¸ì‹œ ì—°ë™\n- íƒœìŠ¤í¬009: ì´ë©”ì¼/SMS/ì¹´ì¹´ì˜¤í†¡ í†µí•© ì•Œë¦¼\n- íƒœìŠ¤í¬010: AI ìƒë‹´ ì¶”ì²œ ë¡œì§ ì„¤ê³„\n- íƒœìŠ¤í¬011: ì˜ë£Œ FAQ ë° ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¡°í™”\n- íƒœìŠ¤í¬012: ë²¡í„° DB ê¸°ë°˜ ê²€ìƒ‰ ì ìš©\n- íƒœìŠ¤í¬013: ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨/ë™ì˜ í”Œë¡œìš°\n- íƒœìŠ¤í¬014: ì¸ì¦/ë¡œê·¸ì¸(ë¹„íšŒì› í¬í•¨) ì²˜ë¦¬\n- íƒœìŠ¤í¬015: ì˜ˆì•½ í™•ì¸/ì·¨ì†Œ/ë³€ê²½ í”Œë¡œìš°\n- íƒœìŠ¤í¬016: ê´€ë¦¬ì ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì •ì˜\n- íƒœìŠ¤í¬017: SEO, AEO, ëª¨ë°”ì¼ ìµœì í™”\n- íƒœìŠ¤í¬018: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë° ì¥ì•  ì•Œë¦¼\n- íƒœìŠ¤í¬019: ë°ì´í„° ë°±ì—… ë° ë³µêµ¬ ì „ëµ\n- íƒœìŠ¤í¬020: HIPAA/ì˜ë£Œ ê·œì • ì¤€ìˆ˜ ìš”êµ¬ì‚¬í•­\n- íƒœìŠ¤í¬021: ì™¸ë¶€ API(ì¹´ì¹´ì˜¤/ìŠ¬ë™/ì´ë©”ì¼) ì—°ë™\n- íƒœìŠ¤í¬022: ì¥ì•  ëŒ€ì‘ ë° ìš´ì˜ ìë™í™” êµ¬ì¡°\n- íƒœìŠ¤í¬023: (PRD ì¶”ê°€) ì‹¤ëª… ì¸ì¦ ë° ë³¸ì¸ í™•ì¸ ë¡œì§\n- íƒœìŠ¤í¬024: (PRD ì¶”ê°€) ëª¨ë°”ì¼ ìµœì í™”\n- íƒœìŠ¤í¬025: (PRD ì¶”ê°€) ì˜ˆì•½ ë¦¬ë§ˆì¸ë”(ì•Œë¦¼) ìë™í™”\n- íƒœìŠ¤í¬026: (PRD ì¶”ê°€) ìƒë‹´ ì´ë ¥ ë°ì´í„° ì‹œê°í™” ë° í†µê³„ ëŒ€ì‹œë³´ë“œ\n- íƒœìŠ¤í¬027: (PRD ì¶”ê°€) ê´€ë¦¬ì/ì˜ë£Œì§„ìš© ì•Œë¦¼ ë° ìŠ¹ì¸ í”Œë¡œìš°\n\n---\n\n## ğŸ› ï¸ **Core Technology Stack**\n\n### **âš›ï¸ Frontend Framework**\n```typescript\n{\n  \"framework\": \"Next.js 14 (App Router)\",\n  \"language\": \"TypeScript 5.0+\",\n  \"runtime\": \"React 18+ (Server Components)\",\n  \"styling\": \"Tailwind CSS 3.4\",\n  \"deployment\": \"Vercel\"\n}\n```\n\n### **ğŸ—„ï¸ Backend & Database (Supabase í†µí•©)**\n```typescript\n{\n  \"backend\": \"Supabase (PostgreSQL + Edge Functions)\",\n  \"database\": \"Supabase PostgreSQL\",\n  \"auth\": \"Supabase Auth\",\n  \"storage\": \"Supabase Storage\",\n  \"realtime\": \"Supabase Realtime\",\n  \"edge_functions\": \"Supabase Edge Functions (Deno)\"\n}\n```\n\n### **ğŸ¨ UI/UX Libraries**\n```typescript\n{\n  // Component System\n  \"ui_framework\": \"shadcn/ui + Radix UI\",\n  \"components\": [\n    \"@radix-ui/react-dialog\",\n    \"@radix-ui/react-portal\", \n    \"@radix-ui/react-slot\",\n    \"@radix-ui/react-accordion\",\n    \"@radix-ui/react-avatar\",\n    \"@radix-ui/react-checkbox\",\n    \"@radix-ui/react-dropdown-menu\",\n    \"@radix-ui/react-label\",\n    \"@radix-ui/react-select\",\n    \"@radix-ui/react-separator\",\n    \"@radix-ui/react-toast\"\n  ],\n  \n  // Styling Utilities\n  \"utilities\": [\n    \"class-variance-authority\",\n    \"clsx\",\n    \"tailwind-merge\",\n    \"tailwindcss-animate\"\n  ],\n  \n  // Icons & Animation\n  \"icons\": \"Lucide React\",\n  \"animation\": \"Framer Motion 12\"\n}\n```\n\n---\n\n## ğŸ¤– **AI & Integration Stack**\n\n### **AI Services**\n```typescript\n{\n  \"primary_llm\": \"OpenAI GPT-4o\",\n  \"chatbot_platform\": \"ê¸°ì¡´ GPTs + Typebot\",\n  \"vector_db\": \"Supabase pgvector (ë²¡í„° ê²€ìƒ‰)\",\n  \"embedding\": \"OpenAI text-embedding-3-large\"\n}\n```\n\n### **ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™**\n```typescript\n{\n  \"messaging\": {\n\n    \"email\": \"Resend.com\",\n    \"sms\": \"Twilio\",\n    \"slack\": \"Slack API (ë‚´ë¶€ ì•Œë¦¼)\"\n  },\n  \"analytics\": {\n    \"web\": \"Vercel Analytics\",\n    \"seo\": \"Google Search Console\",\n    \"user\": \"Supabase Analytics\"\n  }\n}\n```\n\n---\n\n## ğŸ“¦ **Package Dependencies**\n\n### **Production Dependencies**\n```json\n{\n  // Core Framework\n  \"next\": \"^14.0.0\",\n  \"react\": \"^18.0.0\",\n  \"react-dom\": \"^18.0.0\",\n  \"typescript\": \"^5.0.0\",\n  \n  // Supabase Integration\n  \"@supabase/supabase-js\": \"^2.39.0\",\n  \"@supabase/ssr\": \"^0.1.0\",\n  \"@supabase/auth-helpers-nextjs\": \"^0.8.0\",\n  \n  // UI Components\n  \"@radix-ui/react-dialog\": \"^1.1.14\",\n  \"@radix-ui/react-portal\": \"^1.1.9\",\n  \"@radix-ui/react-slot\": \"^1.2.3\",\n  \"@radix-ui/react-accordion\": \"^1.1.0\",\n  \"@radix-ui/react-avatar\": \"^1.0.0\",\n  \"@radix-ui/react-checkbox\": \"^1.0.0\",\n  \"@radix-ui/react-dropdown-menu\": \"^2.0.0\",\n  \"@radix-ui/react-label\": \"^2.0.0\",\n  \"@radix-ui/react-select\": \"^1.2.0\",\n  \"@radix-ui/react-separator\": \"^1.0.0\",\n  \"@radix-ui/react-toast\": \"^1.1.0\",\n  \n  // Styling\n  \"tailwindcss\": \"^3.4.0\",\n  \"class-variance-authority\": \"^0.7.1\",\n  \"clsx\": \"^2.1.1\",\n  \"tailwind-merge\": \"^3.3.1\",\n  \"tailwindcss-animate\": \"^1.0.7\",\n  \n  // State Management & Forms\n  \"zustand\": \"^4.4.0\",\n  \"@tanstack/react-query\": \"^5.0.0\",\n  \"react-hook-form\": \"^7.48.0\",\n  \"zod\": \"^3.22.0\",\n  \"@hookform/resolvers\": \"^3.3.0\",\n  \n  // AI & External APIs\n  \"openai\": \"^5.8.3\",\n  \"resend\": \"^2.0.0\",\n  \"axios\": \"^1.6.0\",\n  \n  // Animation & Icons\n  \"framer-motion\": \"^12.23.0\",\n  \"lucide-react\": \"^0.525.0\",\n  \n  // SEO & Internationalization\n  \"next-seo\": \"^6.4.0\",\n  \"next-sitemap\": \"^4.2.0\",\n  \"next-intl\": \"^3.0.0\",\n  \n  // Analytics\n  \"@vercel/analytics\": \"^1.1.0\",\n  \n  // Utilities\n  \"date-fns\": \"^3.0.0\",\n  \"es-toolkit\": \"^1.0.0\"\n}\n```\n\n### **Development Dependencies**\n```json\n{\n  \"@types/node\": \"^20.0.0\",\n  \"@types/react\": \"^18.0.0\",\n  \"@types/react-dom\": \"^18.0.0\",\n  \"autoprefixer\": \"^10.0.0\",\n  \"eslint\": \"^8.0.0\",\n  \"eslint-config-next\": \"^14.0.0\",\n  \"postcss\": \"^8.0.0\",\n  \"prettier\": \"^3.0.0\",\n  \"supabase\": \"^1.123.0\"\n}\n```\n\n---\n\n## ğŸ—ï¸ **Supabase ì•„í‚¤í…ì²˜ ì„¤ê³„**\n\n### **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**\n```sql\n-- í™˜ì ì •ë³´ í…Œì´ë¸”\nCREATE TABLE patients (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  phone VARCHAR(20) UNIQUE NOT NULL,\n  email VARCHAR(255),\n  birth_date DATE,\n  created_at TIMESTAMP DEFAULT NOW(),\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- ì˜ˆì•½ í…Œì´ë¸”\nCREATE TABLE reservations (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  patient_id UUID REFERENCES patients(id),\n  service_type VARCHAR(50) NOT NULL, -- ë¼ì‹/ë¼ì„¹/ë°±ë‚´ì¥ ë“±\n  appointment_date DATE NOT NULL,\n  appointment_time TIME NOT NULL,\n  status VARCHAR(20) DEFAULT 'pending', -- pending/confirmed/completed/cancelled\n  notes TEXT,\n  created_at TIMESTAMP DEFAULT NOW(),\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- AI ìƒë‹´ ê¸°ë¡ í…Œì´ë¸”\nCREATE TABLE consultations (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  patient_id UUID REFERENCES patients(id),\n  conversation JSONB NOT NULL, -- ëŒ€í™” ë‚´ìš© JSON\n  symptoms TEXT[], -- ì¦ìƒ ë°°ì—´\n  recommendations TEXT[], -- AI ì¶”ì²œì‚¬í•­\n  urgency_level INTEGER DEFAULT 1, -- 1-5 ê¸´ê¸‰ë„\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- ë‰´ìŠ¤ë ˆí„° êµ¬ë… í…Œì´ë¸”\nCREATE TABLE newsletter_subscribers (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  email VARCHAR(255) UNIQUE NOT NULL,\n  name VARCHAR(100),\n  subscribed_at TIMESTAMP DEFAULT NOW(),\n  is_active BOOLEAN DEFAULT true\n);\n\n-- FAQ í…Œì´ë¸”\nCREATE TABLE faqs (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  category VARCHAR(50) NOT NULL,\n  question TEXT NOT NULL,\n  answer TEXT NOT NULL,\n  order_index INTEGER DEFAULT 0,\n  is_published BOOLEAN DEFAULT true,\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- ë²¡í„° ê²€ìƒ‰ì„ ìœ„í•œ í™•ì¥\nCREATE EXTENSION IF NOT EXISTS vector;\n\n-- AI ì§€ì‹ë² ì´ìŠ¤ í…Œì´ë¸” (ë²¡í„° ê²€ìƒ‰ìš©)\nCREATE TABLE knowledge_base (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  title VARCHAR(255) NOT NULL,\n  content TEXT NOT NULL,\n  category VARCHAR(50) NOT NULL,\n  embedding vector(1536), -- OpenAI embedding ì°¨ì›\n  metadata JSONB,\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\n-- ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰ ì¸ë±ìŠ¤\nCREATE INDEX ON knowledge_base USING ivfflat (embedding vector_cosine_ops);\n```\n\n### **Row Level Security (RLS) ì •ì±…**\n```sql\n-- í™˜ì ì •ë³´ ë³´ì•ˆ ì •ì±…\nALTER TABLE patients ENABLE ROW LEVEL SECURITY;\nCREATE POLICY \"Users can view own data\" ON patients\n  FOR SELECT USING (auth.uid() = id);\n\n-- ì˜ˆì•½ ì •ë³´ ë³´ì•ˆ ì •ì±…  \nALTER TABLE reservations ENABLE ROW LEVEL SECURITY;\nCREATE POLICY \"Users can view own reservations\" ON reservations\n  FOR SELECT USING (patient_id = auth.uid());\n\n-- ìƒë‹´ ê¸°ë¡ ë³´ì•ˆ ì •ì±…\nALTER TABLE consultations ENABLE ROW LEVEL SECURITY;\nCREATE POLICY \"Users can view own consultations\" ON consultations\n  FOR SELECT USING (patient_id = auth.uid());\n```\n\n---\n\n## âš¡ **Supabase Edge Functions**\n\n### **AI ìƒë‹´ ì²˜ë¦¬ í•¨ìˆ˜**\n```typescript\n// supabase/functions/ai-consultation/index.ts\nimport { serve } from 'https://deno.land/std@0.168.0/http/server.ts'\nimport { createClient } from 'https://esm.sh/@supabase/supabase-js@2'\n\nserve(async (req) => {\n  const { symptoms, patientId } = await req.json()\n  \n  // OpenAI API í˜¸ì¶œ\n  const aiResponse = await fetch('https://api.openai.com/v1/chat/completions', {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${Deno.env.get('OPENAI_API_KEY')}`,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      model: 'gpt-4o',\n      messages: [{\n        role: 'system',\n        content: 'ë‹¹ì‹ ì€ ì—°ìˆ˜ê¹€ì•ˆê³¼ì˜ì›ì˜ AI ìƒë‹´ ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤...'\n      }, {\n        role: 'user',\n        content: `ì¦ìƒ: ${symptoms.join(', ')}`\n      }]\n    })\n  })\n  \n  const aiResult = await aiResponse.json()\n  \n  // Supabaseì— ìƒë‹´ ê¸°ë¡ ì €ì¥\n  const supabase = createClient(\n    Deno.env.get('SUPABASE_URL')!,\n    Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!\n  )\n  \n  await supabase.from('consultations').insert({\n    patient_id: patientId,\n    conversation: aiResult,\n    symptoms: symptoms,\n    recommendations: extractRecommendations(aiResult)\n  })\n  \n  return new Response(JSON.stringify(aiResult), {\n    headers: { 'Content-Type': 'application/json' }\n  })\n})\n```\n\n### **ì˜ˆì•½ ì•Œë¦¼ í•¨ìˆ˜**\n```typescript\n// supabase/functions/send-reservation-notification/index.ts\nimport { serve } from 'https://deno.land/std@0.168.0/http/server.ts'\n\nserve(async (req) => {\n  const { reservationId, type } = await req.json()\n  \n  // ì˜ˆì•½ ì •ë³´ ì¡°íšŒ\n  const supabase = createClient(...)\n  const { data: reservation } = await supabase\n    .from('reservations')\n    .select('*, patients(*)')\n    .eq('id', reservationId)\n    .single()\n  \n  // ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡ ë°œì†¡\n  await sendKakaoNotification({\n    phone: reservation.patients.phone,\n    template: 'reservation_confirm',\n    variables: {\n      name: reservation.patients.name,\n      date: reservation.appointment_date,\n      time: reservation.appointment_time\n    }\n  })\n  \n  // Slack ì•Œë¦¼ (ë³‘ì› ìŠ¤íƒœí”„ìš©)\n  await sendSlackNotification({\n    text: `ìƒˆ ì˜ˆì•½: ${reservation.patients.name} - ${reservation.appointment_date}`\n  })\n  \n  return new Response('OK')\n})\n```\n\n---\n\n## ğŸ”§ **í™˜ê²½ ì„¤ì •**\n\n### **í™˜ê²½ ë³€ìˆ˜ (.env.local)**\n```bash\n# Supabase\nNEXT_PUBLIC_SUPABASE_URL=your_supabase_url\nNEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key\nSUPABASE_SERVICE_ROLE_KEY=your_service_role_key\n\n# OpenAI\nOPENAI_API_KEY=your_openai_api_key\n\n# External APIs\nKAKAO_API_KEY=your_kakao_api_key\nRESEND_API_KEY=your_resend_api_key\nTWILIO_ACCOUNT_SID=your_twilio_sid\nTWILIO_AUTH_TOKEN=your_twilio_token\nSLACK_WEBHOOK_URL=your_slack_webhook\n\n# Analytics\nNEXT_PUBLIC_GA_ID=your_google_analytics_id\n```\n\n### **Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •**\n```typescript\n// lib/supabase.ts\nimport { createClientComponentClient, createServerComponentClient } from '@supabase/auth-helpers-nextjs'\nimport { cookies } from 'next/headers'\n\n// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ìš©\nexport const createClient = () => createClientComponentClient()\n\n// ì„œë²„ ì»´í¬ë„ŒíŠ¸ìš©\nexport const createServerClient = () => createServerComponentClient({ cookies })\n\n// íƒ€ì… ì •ì˜\nexport type Database = {\n  public: {\n    Tables: {\n      patients: {\n## ğŸ“± **ì£¼ìš” ê¸°ëŠ¥ë³„ êµ¬í˜„ ê³„íš (PRD íƒœìŠ¤í¬ 001~027 ë°˜ì˜)**\n\n### **1ì£¼ì°¨: MVP í•µì‹¬ ê¸°ëŠ¥**\n```typescript\n// íƒœìŠ¤í¬001~006: ê¸°ë³¸ ëœë”©í˜ì´ì§€, ì˜ë£Œ ì„œë¹„ìŠ¤ ì„¤ëª…, ì˜ˆì•½/ìƒë‹´ UI\n- âœ… Next.js 14 + TypeScript êµ¬ì¡°\n- âœ… Tailwind CSS + shadcn/ui ì»´í¬ë„ŒíŠ¸\n- âœ… ì„œë¹„ìŠ¤ ì„¤ëª…, ì§„ë£Œ/ìƒë‹´ ìœ í˜• êµ¬ë¶„, ì˜ˆì•½ í¼ ì„¤ê³„\n\n// íƒœìŠ¤í¬007~010: AI ì±—ë´‡ ë° ìƒë‹´ ê¸°ë¡\n- ğŸ”„ AI ì±—ë´‡ UI/UX, ëŒ€í™” ì €ì¥, ìƒë‹´ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜, ì¦ìƒ ì…ë ¥\n- ğŸ”„ Supabase ìƒë‹´ ì´ë ¥ ê´€ë¦¬ ë° AI ì¶”ì²œ ë¡œì§\n\n// íƒœìŠ¤í¬011~015: ì§€ì‹ë² ì´ìŠ¤, FAQ, ì¸ì¦, ê°œì¸ì •ë³´\n- ğŸ”„ FAQ/ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¡°í™”, ë²¡í„° DB ê²€ìƒ‰, ê°œì¸ì •ë³´ ë™ì˜\n- ğŸ”„ ì¸ì¦/ë¹„íšŒì› ì²˜ë¦¬, ì˜ˆì•½ í™•ì¸/ë³€ê²½/ì·¨ì†Œ í”Œë¡œìš°\n\n// íƒœìŠ¤í¬016~019: ê´€ë¦¬ì, SEO, ëª¨ë‹ˆí„°ë§, ë°±ì—…\n- ğŸ”„ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ, SEO/AEO/ëª¨ë°”ì¼ ìµœì í™”, ì„±ëŠ¥/ì´ìƒ ëª¨ë‹ˆí„°ë§, ìë™ ë°±ì—…\n\n// íƒœìŠ¤í¬020~022: ê·œì • ì¤€ìˆ˜, ì™¸ë¶€ API, ì¥ì•  ëŒ€ì‘\n- ğŸ”„ HIPAA/ì˜ë£Œ ê·œì • ì¤€ìˆ˜, ì¹´ì¹´ì˜¤/ì´ë©”ì¼/ìŠ¬ë™ ì—°ë™, ì¥ì•  ìë™í™” ë° ë³µêµ¬\n\n// íƒœìŠ¤í¬023: ì‹¤ëª… ì¸ì¦ ë° ë³¸ì¸ í™•ì¸ ë¡œì§\n- ğŸ”„ ê°„í¸ ë³¸ì¸ ì¸ì¦(íœ´ëŒ€í° ì¸ì¦ë§Œ ì ìš©, I-PIN ìƒëµ)\n- ğŸ”„ ì‹¤ëª… í™•ì¸: ì˜ˆì•½Â·ìƒë‹´ ì‹œ ì´ë¦„/ìƒë…„ì›”ì¼/íœ´ëŒ€í° 3ì ì •ë³´ ê°„ë‹¨ ì¼ì¹˜ ê²€ì¦\n\n// íƒœìŠ¤í¬024: ëª¨ë°”ì¼ ìµœì í™”(ì•ˆë“œë¡œì´ë“œ, ì•„ì´í°)\n- ğŸ”„ ì£¼ìš” UI/UX ëª¨ë°”ì¼ ë°˜ì‘í˜• êµ¬ì¡° ì ìš©\n- ğŸ”„ iOS/Android í¬ë¡œìŠ¤ë¸Œë¼ìš°ì§• ë° í„°ì¹˜ ì¸í„°í˜ì´ìŠ¤ ìµœì í™”\n\n// íƒœìŠ¤í¬025: ì˜ˆì•½ ë¦¬ë§ˆì¸ë”(ì•Œë¦¼) ìë™í™”\n- ğŸ”„ ì˜ˆì•½ ì „/í›„ ìë™ ì•Œë¦¼í†¡ ë° ì´ë©”ì¼ ë°œì†¡\n- ğŸ”„ ì˜ˆì•½ ì¼ì • ê¸°ë°˜ ìŠ¤ì¼€ì¤„ëŸ¬ ì—°ë™\n\n// íƒœìŠ¤í¬026: ìƒë‹´ ì´ë ¥ ë°ì´í„° ì‹œê°í™” ë° í†µê³„ ëŒ€ì‹œë³´ë“œ\n- ğŸ”„ ê´€ë¦¬ììš© ìƒë‹´/ì˜ˆì•½ í†µê³„ ê·¸ë˜í”„, ì›”ë³„ ë¦¬í¬íŠ¸\n\n// íƒœìŠ¤í¬027: ê´€ë¦¬ì/ì˜ë£Œì§„ìš© ì•Œë¦¼ ë° ìŠ¹ì¸ í”Œë¡œìš°\n- ğŸ”„ ì‹ ê·œ ì˜ˆì•½/ìƒë‹´ ë°œìƒ ì‹œ ì˜ë£Œì§„ ì•Œë¦¼ ë° ìŠ¹ì¸ íŠ¸ë¦¬ê±°\n```\n\n### **2ì£¼ì°¨: ê³ ë„í™” ë° ìë™í™” ê¸°ëŠ¥**\n```typescript\n// AI ë° ì‹¤ì‹œê°„ ê¸°ëŠ¥\n- ê³ ê¸‰ ë²¡í„° ê²€ìƒ‰, ì‹¤ì‹œê°„ ìƒë‹´/ì•Œë¦¼, ì˜ˆì•½/ìƒë‹´ ìë™í™”\n// ë§ˆì¼€íŒ…/ìš´ì˜ ìë™í™”\n- ì´ë©”ì¼ ë‰´ìŠ¤ë ˆí„°, ì¬ë°©ë¬¸ ë¦¬ë§ˆì¸ë”, ê³ ê° ì—¬ì • ì¶”ì , ì¥ì•  ëŒ€ì‘ ìë™í™”\n// ë¶„ì„/ìµœì í™”\n- ì‚¬ìš©ì í–‰ë™ ë¶„ì„, A/B í…ŒìŠ¤íŠ¸, ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§, ë°ì´í„° ë³µêµ¬\n```\n- ğŸ”„ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ, SEO/AEO/ëª¨ë°”ì¼ ìµœì í™”, ì„±ëŠ¥/ì´ìƒ ëª¨ë‹ˆí„°ë§, ìë™ ë°±ì—…\n\n// íƒœìŠ¤í¬020~022: ê·œì • ì¤€ìˆ˜, ì™¸ë¶€ API, ì¥ì•  ëŒ€ì‘\n- ğŸ”„ HIPAA/ì˜ë£Œ ê·œì • ì¤€ìˆ˜, ì¹´ì¹´ì˜¤/ì´ë©”ì¼/ìŠ¬ë™ ì—°ë™, ì¥ì•  ìë™í™” ë° ë³µêµ¬\n```\n\n### **2ì£¼ì°¨: ê³ ë„í™” ë° ìë™í™” ê¸°ëŠ¥**\n```typescript\n// AI ë° ì‹¤ì‹œê°„ ê¸°ëŠ¥\n- ê³ ê¸‰ ë²¡í„° ê²€ìƒ‰, ì‹¤ì‹œê°„ ìƒë‹´/ì•Œë¦¼, ì˜ˆì•½/ìƒë‹´ ìë™í™”\n// ë§ˆì¼€íŒ…/ìš´ì˜ ìë™í™”\n- ì´ë©”ì¼ ë‰´ìŠ¤ë ˆí„°, ì¬ë°©ë¬¸ ë¦¬ë§ˆì¸ë”, ê³ ê° ì—¬ì • ì¶”ì , ì¥ì•  ëŒ€ì‘ ìë™í™”\n// ë¶„ì„/ìµœì í™”\n- ì‚¬ìš©ì í–‰ë™ ë¶„ì„, A/B í…ŒìŠ¤íŠ¸, ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§, ë°ì´í„° ë³µêµ¬\n```\n\n## ğŸ“± **ì£¼ìš” ê¸°ëŠ¥ë³„ êµ¬í˜„ ê³„íš**\n\n### **1ì£¼ì°¨: MVP í•µì‹¬ ê¸°ëŠ¥**\n```typescript\n// ìš°ì„ ìˆœìœ„ 1: ê¸°ë³¸ ëœë”©í˜ì´ì§€\n- âœ… Next.js 14 + TypeScript ê¸°ë°˜ êµ¬ì¡°\n- âœ… Tailwind CSS + shadcn/ui ì»´í¬ë„ŒíŠ¸\n- âœ… Supabase ì´ˆê¸° ì„¤ì •\n\n// ìš°ì„ ìˆœìœ„ 2: AI ì±—ë´‡ ì—°ë™\n- ğŸ”„ ê¸°ì¡´ GPTs ë§í¬ ì—°ê²°\n- ğŸ”„ Typebot ì„ë² ë”©\n- ğŸ”„ ìƒë‹´ ë‚´ìš© Supabase ì €ì¥\n\n// ìš°ì„ ìˆœìœ„ 3: ì˜ˆì•½ ì‹œìŠ¤í…œ\n- ğŸ”„ ì˜ˆì•½ í¼ (React Hook Form + Zod)\n- ğŸ”„ Supabase ë°ì´í„° ì €ì¥\n- ğŸ”„ ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼í†¡ ë°œì†¡\n- ğŸ”„ Slack ë‚´ë¶€ ì•Œë¦¼\n\n// ìš°ì„ ìˆœìœ„ 4: ê¸°ë³¸ SEO\n- ğŸ”„ ë©”íƒ€ íƒœê·¸ ìµœì í™”\n- ğŸ”„ êµ¬ì¡°í™” ë°ì´í„°\n- ğŸ”„ ì‚¬ì´íŠ¸ë§µ ìƒì„±\n```\n\n### **2ì£¼ì°¨: ê³ ë„í™” ê¸°ëŠ¥**\n```typescript\n// ê³ ê¸‰ AI ê¸°ëŠ¥\n- ë²¡í„° ê²€ìƒ‰ (pgvector)\n- ì‹¤ì‹œê°„ ìƒë‹´ (Supabase Realtime)\n- AI ì¶”ì²œ ì‹œìŠ¤í…œ\n\n// ë§ˆì¼€íŒ… ìë™í™”\n- ì´ë©”ì¼ ë‰´ìŠ¤ë ˆí„° (Resend)\n- ì¬ë°©ë¬¸ ë¦¬ë§ˆì¸ë”\n- ê³ ê° ì—¬ì • ì¶”ì \n\n// ë¶„ì„ & ìµœì í™”\n- ì‚¬ìš©ì í–‰ë™ ë¶„ì„\n- A/B í…ŒìŠ¤íŠ¸\n- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§\n```\n\n---\n\n## ğŸš€ **ë°°í¬ ì•„í‚¤í…ì²˜**\n\n### **Production Stack**\n```typescript\n{\n  \"frontend\": \"Vercel (Next.js)\",\n  \"backend\": \"Supabase (Edge Functions)\",\n  \"database\": \"Supabase PostgreSQL\",\n  \"cdn\": \"Vercel Edge Network\",\n  \"monitoring\": \"Vercel Analytics + Supabase Monitoring\",\n  \"domain\": \"ì—°ìˆ˜ê¹€ì•ˆê³¼ ë„ë©”ì¸\"\n}\n```\n\n### **ê°œë°œ ì›Œí¬í”Œë¡œìš°**\n```bash\n# 1. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •\nnpm install\nnpx supabase start\nnpm run dev\n\n# 2. Supabase ë§ˆì´ê·¸ë ˆì´ì…˜\nnpx supabase db reset\nnpx supabase db push\n\n# 3. Edge Functions ë°°í¬\nnpx supabase functions deploy ai-consultation\nnpx supabase functions deploy send-reservation-notification\n\n# 4. í”„ë¡œë•ì…˜ ë°°í¬\nnpm run build\nvercel --prod\n```\n\n---\n\n## ğŸ’¡ **Supabase í™œìš©ì˜ í•µì‹¬ ì¥ì **\n\n### **ğŸ¯ 1ì£¼ì¼ ì¶œì‹œë¥¼ ìœ„í•œ ìµœì  ì„ íƒ**\n1. **ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ PostgreSQL**: ë³µì¡í•œ DB ì„¤ì • ë¶ˆí•„ìš”\n2. **ì‹¤ì‹œê°„ ê¸°ëŠ¥**: ì˜ˆì•½ í˜„í™© ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸\n3. **ì¸ì¦ ì‹œìŠ¤í…œ**: í™˜ì ë¡œê·¸ì¸/ê°€ì… ìë™ ì²˜ë¦¬\n4. **Edge Functions**: ì„œë²„ë¦¬ìŠ¤ ë°±ì—”ë“œ ë¡œì§\n5. **íŒŒì¼ ìŠ¤í† ë¦¬ì§€**: ì˜ë£Œ ì´ë¯¸ì§€/ë¬¸ì„œ ì €ì¥\n6. **ë²¡í„° ê²€ìƒ‰**: AI ì§€ì‹ë² ì´ìŠ¤ êµ¬ì¶•\n\n### **ì˜ë£Œ ì„œë¹„ìŠ¤ íŠ¹í™” ê¸°ëŠ¥**\n1. **Row Level Security**: í™˜ì ê°œì¸ì •ë³´ ë³´í˜¸\n2. **ì‹¤ì‹œê°„ ì•Œë¦¼**: ì‘ê¸‰ ìƒí™© ì¦‰ì‹œ ëŒ€ì‘\n3. **ë°ì´í„° ë°±ì—…**: ìë™ ë°±ì—… ë° ë³µêµ¬\n4. **ê·œì • ì¤€ìˆ˜**: HIPAA ì¤€ìˆ˜ ì¸í”„ë¼\n\n---\n\n## ğŸ“Š **ì˜ˆìƒ ì„±ëŠ¥ ì§€í‘œ**\n\n### **ê¸°ìˆ ì  ì„±ëŠ¥**\n- **Lighthouse Score**: 95+ (Vercel + Supabase ìµœì í™”)\n- **Core Web Vitals**: ëª¨ë“  ì§€í‘œ Green\n- **API Response Time**: < 200ms (Edge Functions)\n- **Database Query Time**: < 50ms (ìµœì í™”ëœ ì¸ë±ìŠ¤)\n\n### **ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ëŠ¥**\n- **ì˜ˆì•½ ì „í™˜ìœ¨**: 35% ëª©í‘œ\n- **ì±—ë´‡ ìƒë‹´ ë§Œì¡±ë„**: 4.8/5.0 ëª©í‘œ\n- **í˜ì´ì§€ ë¡œë”© ì‹œê°„**: < 2ì´ˆ\n- **ëª¨ë°”ì¼ ì‚¬ìš©ì„±**: 90% ì´ìƒ\n\n---\n",
      "writedAt": "2025-08-13T03:44:00.090Z"
    },
    {
      "type": "guideline",
      "content": "# Code Guidelines for YSK AI Landing Page\n\n## 1. Project Overview\n\nì´ í”„ë¡œì íŠ¸ëŠ” TRD(Technical Requirements Document)ì—ì„œ ì •ì˜í•œ ì•„í‚¤í…ì²˜, ê¸°ìˆ  ìŠ¤íƒ, ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ ê°œë°œí•©ë‹ˆë‹¤. ì£¼ìš” ë³€ê²½ ì‚¬í•­ ë° ìŠ¤í™ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n## 2. Core Principles (TRD ë°˜ì˜)\n\n1.  **TRD ìµœì‹  ëª…ì„¸ ë°˜ì˜ í•„ìˆ˜**: ëª¨ë“  ê¸°ìˆ ì , ê¸°ëŠ¥ì  ì˜ì‚¬ê²°ì •ì€ í•­ìƒ ìµœì‹ ì˜ TRD(Technical Requirements Document) ë‚´ìš©ì„ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤. TRD ë³€ê²½ ë‚´ì—­ì€ ì½”ë“œ ê°€ì´ë“œë¼ì¸ì— ì¦‰ì‹œ ë°˜ì˜í•˜ê³ , ë³€ê²½ ì´ë ¥ì€ ë³„ë„ ë¬¸ì„œë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.\n2.  **ì„±ëŠ¥ ì§€í‘œ ì¶©ì¡±**: ìµœì‹  TRDì— ëª…ì‹œëœ ì„±ëŠ¥ ëª©í‘œ(FCP, TTFB ë“± ìˆ˜ì¹˜ í¬í•¨)ë¥¼ ë°˜ë“œì‹œ ì¶©ì¡±í•´ì•¼ í•˜ë©°, ë³€ê²½ ì‹œ ì½”ë“œì— ì£¼ì„ ë° ë¬¸ì„œì— ê·¼ê±°ë¥¼ ë‚¨ê¹ë‹ˆë‹¤.\n3.  **ë³´ì•ˆ ìš”ê±´ ì¤€ìˆ˜**: RLS, ê°œì¸ì •ë³´ ì•”í˜¸í™”, ì¸ì¦Â·ì¸ê°€ ë“± TRDì˜ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ì„ ì½”ë“œ ë ˆë²¨ì—ì„œ êµ¬í˜„í•˜ê³ , ë³€ê²½ëœ ë³´ì•ˆ ì •ì±…ì´ ìˆì„ ê²½ìš° ì½”ë“œ ë‚´ ì£¼ì„ ë° ê°€ì´ë“œë¼ì¸ì— ì¦‰ì‹œ ë°˜ì˜í•©ë‹ˆë‹¤.\n4.  **í™•ì¥ì„± ë° ëª¨ë“ˆí™”**: EMR ì—°ë™, ìŒì„± AI ë“± TRDì˜ ìµœì‹  í™•ì¥ ìš”êµ¬ë¥¼ ì—¼ë‘ì— ë‘ê³  ì»´í¬ë„ŒíŠ¸/ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„ ë° ë¶„ë¦¬í•©ë‹ˆë‹¤.\n5.  **í…ŒìŠ¤íŠ¸/ê²€ì¦ ìë™í™”**: TRDì—ì„œ ìš”êµ¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€, ìë™í™”(ì˜ˆ: CI/CD, e2e í…ŒìŠ¤íŠ¸ ë“±) ìˆ˜ì¤€ì„ ì¤€ìˆ˜í•˜ë©°, ë³€ê²½ ì‹œ ê·¼ê±°ë¥¼ ì½”ë“œì™€ ë¬¸ì„œì— ëª…í™•íˆ ë‚¨ê¹ë‹ˆë‹¤.\n6.  **ì½”ë“œ í‘œì¤€í™”/ì¼ê´€ì„±**: ë„¤ì´ë°, íŒŒì¼êµ¬ì¡°, ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ë“± TRD ëª…ì‹œ ê¸°ì¤€ì„ í•­ìƒ ìµœì‹  ê¸°ì¤€ìœ¼ë¡œ ë§ì¶”ê³ , ì˜ˆì™¸ ë°œìƒ ì‹œ TRD ë‚´ ê·¼ê±°ë¥¼ ëª…í™•íˆ ë‚¨ê¹ë‹ˆë‹¤.\n\n## 3. Language-Specific Guidelines (TRD ê¸°ì¤€)\n\n## 2. Core Principles\n\n1.  **Performance First**: Prioritize fast loading times and efficient resource utilization to meet FCP <1.5s and TTFB <200ms.\n2.  **Security by Design**: Implement robust security measures, especially RLS, to protect sensitive patient data.\n3.  **Maintainability & Readability**: Write clean, well-structured, and easily understandable code with clear naming conventions.\n4.  **Scalability & Extensibility**: Design components and services to be easily scalable and adaptable for future features like voice AI and EMR integration.\n5.  **Testability**: Write code that is inherently testable to ensure reliability and reduce bugs.\n\n## 3. Language-Specific Guidelines\n\n### 3.1. File Organization and Directory Structure (Next.js App Router)\n\n**MUST:**\n*   Organize code by feature or domain within the `app/` directory.\n*   Use `(group)` conventions for logical grouping without affecting routing.\n*   Place shared components in `components/ui` (for shadcn/ui extensions) or `components/shared`.\n*   Store Supabase client logic in `lib/supabase.ts`.\n*   Keep utility functions in `lib/utils.ts` or `lib/helpers/`.\n*   Define API routes in `app/api/`.\n*   Place Supabase Edge Functions in `supabase/functions/`.\n\n```\n// MUST: Recommended project structure\n.\nâ”œâ”€â”€ app/\nâ”‚   â”œâ”€â”€ (auth)/\nâ”‚   â”‚   â”œâ”€â”€ login/\nâ”‚   â”‚   â”‚   â””â”€â”€ page.tsx\nâ”‚   â”‚   â””â”€â”€ signup/\nâ”‚   â”‚       â””â”€â”€ page.tsx\nâ”‚   â”œâ”€â”€ (main)/\nâ”‚   â”‚   â”œâ”€â”€ page.tsx          // Homepage\nâ”‚   â”‚   â”œâ”€â”€ about/\nâ”‚   â”‚   â”‚   â””â”€â”€ page.tsx\nâ”‚   â”‚   â”œâ”€â”€ booking/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx\nâ”‚   â”‚   â”‚   â””â”€â”€ components/\nâ”‚   â”‚   â”‚       â”œâ”€â”€ BookingForm.tsx\nâ”‚   â”‚   â”‚       â””â”€â”€ CalendarPicker.tsx\nâ”‚   â”‚   â”œâ”€â”€ chatbot/\nâ”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx\nâ”‚   â”‚   â”‚   â””â”€â”€ components/\nâ”‚   â”‚   â”‚       â””â”€â”€ AIChatbot.tsx\nâ”‚   â”‚   â””â”€â”€ faq/\nâ”‚   â”‚       â””â”€â”€ page.tsx\nâ”‚   â”œâ”€â”€ api/\nâ”‚   â”‚   â”œâ”€â”€ chat/\nâ”‚   â”‚   â”‚   â””â”€â”€ route.ts      // API route for chat\nâ”‚   â”‚   â””â”€â”€ booking/\nâ”‚   â”‚       â””â”€â”€ route.ts      // API route for booking\nâ”‚   â””â”€â”€ layout.tsx            // Root layout\nâ”œâ”€â”€ components/\nâ”‚   â”œâ”€â”€ ui/                   // shadcn/ui components\nâ”‚   â”‚   â”œâ”€â”€ button.tsx\nâ”‚   â”‚   â””â”€â”€ dialog.tsx\nâ”‚   â””â”€â”€ shared/               // Reusable cross-feature components\nâ”‚       â”œâ”€â”€ Header.tsx\nâ”‚       â””â”€â”€ Footer.tsx\nâ”œâ”€â”€ lib/\nâ”‚   â”œâ”€â”€ supabase.ts           // Supabase client setup\nâ”‚   â”œâ”€â”€ utils.ts              // General utilities (cn, etc.)\nâ”‚   â””â”€â”€ helpers/              // Specific helper functions\nâ”‚       â””â”€â”€ date-helpers.ts\nâ”œâ”€â”€ public/                   // Static assets\nâ”œâ”€â”€ supabase/\nâ”‚   â”œâ”€â”€ functions/            // Supabase Edge Functions\nâ”‚   â”‚   â”œâ”€â”€ ai-consultation/\nâ”‚   â”‚   â”‚   â””â”€â”€ index.ts\nâ”‚   â”‚   â””â”€â”€ send-notification/\nâ”‚   â”‚       â””â”€â”€ index.ts\nâ”‚   â””â”€â”€ migrations/           // Supabase DB migrations\nâ”œâ”€â”€ types/                    // Global TypeScript types\nâ”‚   â””â”€â”€ index.d.ts\nâ”œâ”€â”€ .env.local\nâ”œâ”€â”€ next.config.js\nâ”œâ”€â”€ tailwind.config.ts\nâ””â”€â”€ tsconfig.json\n```\n\n**MUST NOT:**\n*   Create deeply nested directories without clear logical separation.\n*   Mix component definitions directly within `app/` route files unless they are highly specific and small.\n\n### 3.2. Import/Dependency Management\n\n**MUST:**\n*   Use absolute imports for components and modules defined within the project (configured via `tsconfig.json` `paths`).\n*   Group imports: React/Next.js, external libraries, internal components, internal utilities, CSS.\n*   Maintain alphabetical order within each import group.\n\n```typescript\n// MUST: Correct import ordering and absolute paths\nimport React from 'react';\nimport { useRouter } from 'next/router';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\nimport styles from './page.module.css';\n```\n\n**MUST NOT:**\n*   Use relative imports like `../../../components/Button`.\n*   Have unorganized or randomly ordered imports.\n\n### 3.3. Error Handling Patterns\n\n**MUST:**\n*   Implement centralized error logging (e.g., to Slack for critical errors).\n*   Use `try-catch` blocks for asynchronous operations, especially API calls and database interactions.\n*   Provide user-friendly error messages on the frontend.\n*   Utilize Next.js `error.tsx` for boundary errors in UI.\n*   Handle Supabase client errors gracefully.\n\n```typescript\n// MUST: Robust error handling for API calls\n// app/api/booking/route.ts\nimport { NextResponse } from 'next/server';\nimport { createServerClient } from '@/lib/supabase';\n\nexport async function POST(request: Request) {\n  try {\n    const supabase = createServerClient();\n    const { data, error } = await supabase.from('reservations').insert(/* ... */);\n\n    if (error) {\n      console.error('Supabase insert error:', error);\n      return NextResponse.json({ message: 'Failed to create reservation', error: error.message }, { status: 500 });\n    }\n\n    // Send notification via Edge Function\n    await fetch(`${process.env.SUPABASE_URL}/functions/v1/send-reservation-notification`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ reservationId: data[0].id, type: 'new' })\n    });\n\n    return NextResponse.json({ message: 'Reservation created successfully', data }, { status: 201 });\n  } catch (err) {\n    console.error('Unhandled error in booking API:', err);\n    // Log to Slack or other monitoring service\n    return NextResponse.json({ message: 'Internal server error' }, { status: 500 });\n  }\n}\n*   **TypeScript Strictness**: TRDì—ì„œ ì§€ì •í•œ `strict` ëª¨ë“œ ì˜µì…˜(ì˜ˆ: strictNullChecks, noImplicitAny, strictBindCallApply ë“±)ì„ `tsconfig.json`ì— ë°˜ë“œì‹œ ëª…ì‹œí•©ë‹ˆë‹¤. TRDê°€ ë³€ê²½ë  ê²½ìš° í•´ë‹¹ ì˜µì…˜ë„ ì¦‰ì‹œ ë°˜ì˜í•©ë‹ˆë‹¤. ëª¨ë“  í•¨ìˆ˜/ê°ì²´/propsì— ëª…í™•í•œ íƒ€ì…ì„ ë¶€ì—¬í•´ì•¼ í•˜ë©°, TRDì—ì„œ ì¶”ê°€ëœ íƒ€ì… ì •ì±…(ì˜ˆ: ìœ ë‹ˆì–¸ íƒ€ì… ì‚¬ìš© ì œí•œ ë“±)ì´ ìˆì„ ê²½ìš° ì´ë¥¼ ì¤€ìˆ˜í•©ë‹ˆë‹¤.\n    *   **Rationale**: ìµœì‹  TRDì˜ ì•ˆì „ì„± ë° ì‚¬ì „ ê²€ì¦ ê¸°ì¤€ì— ë¶€í•©\n*   **Naming Conventions**:\n    *   ë³€ìˆ˜/í•¨ìˆ˜: `camelCase` (ì˜ˆ: `userName`, `getUserProfile`)\n    *   ì»´í¬ë„ŒíŠ¸/íƒ€ì…/ì¸í„°í˜ì´ìŠ¤: `PascalCase` (ì˜ˆ: `BookingForm`, `Patient`)\n    *   ìƒìˆ˜: `SCREAMING_SNAKE_CASE` (ì˜ˆ: `MAX_RETRIES`, `API_BASE_URL`)\n    *   íŒŒì¼ëª…/ë””ë ‰í† ë¦¬ëª…: ìµœì‹  TRDì— ëª…ì‹œëœ ê·œì¹™(kebab-case, snake_case ë“±) ìš°ì„  ì ìš©. ì˜ˆì™¸ê°€ ìˆìœ¼ë©´ TRD ëª…ì„¸ì— ë”°ë¼ ì˜ˆì™¸ë¥¼ ëª…í™•íˆ ë‚¨ê¹€.\n    *   TRDì— ë„¤ì´ë° ì˜ˆì‹œ, ì˜ˆì™¸, ì¶”ê°€ ê·œì¹™(ì˜ˆ: prefix, suffix, reserved word ì‚¬ìš© ê¸ˆì§€ ë“±)ì´ ëª…ì‹œëœ ê²½ìš°, ë°˜ë“œì‹œ TRD ìµœì‹  ëª…ì„¸ ìš°ì„  ì ìš©\n    *   **Rationale**: ìµœì‹  TRD ê¸°ì¤€ì˜ ì½”ë“œ í‘œì¤€í™” ë° ìë™í™” ê²€ì¦ì— ë¶€í•©\n### 4.1. MUST Follow\n\n*   **TypeScript Strictness**: Enable `strict` mode in `tsconfig.json`. Use explicit types for function arguments, return values, and complex objects.\n    *   **Rationale**: Enhances code quality, catches errors early, and improves maintainability.\n*   **Naming Conventions**:\n    *   Variables: `camelCase` (e.g., `userName`, `appointmentDate`).\n    *   Functions: `camelCase` (e.g., `getUserProfile`, `formatDate`).\n    *   Components: `PascalCase` (e.g., `BookingForm`, `AIChatbot`).\n    *   Constants: `SCREAMING_SNAKE_CASE` (e.g., `MAX_RETRIES`, `API_BASE_URL`).\n    *   Types/Interfaces: `PascalCase` (e.g., `Patient`, `ReservationData`).\n    *   **Rationale**: Consistency improves readability and reduces cognitive load.\n*   **Component Structure**:\n    *   Functional components using arrow functions.\n    *   Props destructuring at the top of the component.\n    *   Use `use client` directive at the top of client components.\n// TRD ë„¤ì´ë°/íƒ€ì…/strict ì˜ˆì‹œ\n```typescript\n*   **Tailwind CSS Best Practices**:\n    *   Use utility classes directly in JSX.\n    *   Utilize `clsx` and `tailwind-merge` for conditional and combined classes.\n    *   **Rationale**: Leverages Tailwind's power for efficient styling.\n*   **Supabase Interactions**:\n    *   Always use the `createServerClient` in Server Components/Actions and API Routes.\n    *   Use `createClientComponentClient` in Client Components.\n    *   Handle `error` objects returned by Supabase methods explicitly.\n    *   **Rationale**: Ensures proper authentication and data access patterns across server and client.\n\n```typescript\n// MUST: Component structure, typing, and Supabase interaction\n// app/booking/components/BookingForm.tsx (client component)\n'use client';\n\nimport { useState } from 'react';\nimport { createClient } from '@/lib/supabase';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport type { Database } from '@/lib/supabase'; // Import Supabase types\n\ntype PatientInsert = Database['public']['Tables']['patients']['Insert'];\n\ninterface BookingFormProps {\n  initialPatientData?: PatientInsert;\n  onBookingSuccess: () => void;\n}\n\nexport function BookingForm({ initialPatientData, onBookingSuccess }: BookingFormProps) {\n  const supabase = createClient();\n  const [name, setName] = useState(initialPatientData?.name || '');\n  const [phone, setPhone] = useState(initialPatientData?.phone || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      const { data: patient, error: patientError } = await supabase\n        .from('patients')\n        .upsert({ name, phone }, { onConflict: 'phone' })\n        .select()\n        .single();\n\n      if (patientError) throw patientError;\n\n      const { error: reservationError } = await supabase.from('reservations').insert({\n        patient_id: patient.id,\n        service_type: 'General Consultation', // Example\n        appointment_date: new Date().toISOString().split('T')[0], // Example\n        appointment_time: '10:00:00' // Example\n      });\n\n      if (reservationError) throw reservationError;\n\n      onBookingSuccess();\n    } catch (err: any) {\n      console.error('Booking error:', err);\n      setError(err.message || 'An unexpected error occurred.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      {/* ... form fields ... */}\n      {error && <p className=\"text-red-500\">{error}</p>}\n      <Button type=\"submit\" disabled={loading}>\n        {loading ? 'Booking...' : 'Confirm Booking'}\n      </Button>\n    </form>\n  );\n}\n```\n\n### 4.2. MUST NOT Do\n\n*   **Avoid Any/Implicit Any**: Do not use `any` type unless absolutely necessary for external libraries without type definitions. Avoid situations where TypeScript infers `any`.\n    *   **Rationale**: Defeats the purpose of TypeScript and introduces potential runtime errors.\n*   **Global State Pollution**: Avoid creating global variables or functions that are not explicitly part of a state management solution (e.g., Zustand).\n    *   **Rationale**: Leads to unpredictable side effects and difficult debugging.\n*   **Direct DOM Manipulation**: Avoid using `document.querySelector` or direct DOM manipulation in React components. Use React's state and refs instead.\n    *   **Rationale**: Breaks React's declarative paradigm and can lead to performance issues.\n*   **Over-optimization**: Do not prematurely optimize code that is not a proven performance bottleneck. Focus on readability and maintainability first.\n    *   **Rationale**: Often introduces complexity without significant benefits.\n*   **Large, Multi-Responsibility Files**: Avoid creating single files that handle multiple unrelated concerns (e.g., a component file that also defines API logic and database schema).\n    *   **Rationale**: Reduces modularity, makes files hard to read, and hinders maintainability.\n\n```typescript\n// MUST NOT: Anti-pattern - mixing concerns and direct DOM manipulation\n// app/booking/page.tsx (wrong example)\n'use client';\n\nimport { useEffect } from 'react';\n// ... other imports\n\nexport default function BookingPage() {\n  useEffect(() => {\n    // BAD: Direct DOM manipulation\n    const button = document.getElementById('submit-button');\n    if (button) {\n      button.addEventListener('click', () => {\n        alert('Booking submitted!');\n      });\n    }\n  }, []);\n\n  // BAD: All logic for booking form, calendar, and confirmation in one file\n  const handleBooking = () => {\n    // ... complex booking logic here\n    // ... API call\n    // ... Supabase interaction\n    // ... notification logic\n  };\n\n  return (\n    <div>\n      <h1>Book Your Appointment</h1>\n      {/* ... huge form and calendar components defined inline */}\n      <button id=\"submit-button\" onClick={handleBooking}>Submit</button>\n    </div>\n  );\n}\n```\n\n## 5. Architecture Patterns\n\n### 5.1. Component/Module Structure Guidelines\n\n**MUST:**\n*   **Server Components First**: Default to Server Components for data fetching and rendering static/server-side content.\n*   **Client Components for Interactivity**: Use `use client` only when interactivity (hooks, event listeners) is required.\n*   **Co-location**: Place components, types, and styles related to a specific feature within its dedicated directory.\n*   **Atomic Design Principles**: Consider breaking down UI into smaller, reusable atoms, molecules, and organisms (e.g., `Button`, `Input` are atoms; `BookingForm` is an organism).\n\n### 5.2. Data Flow Patterns\n\n**MUST:**\n*   **Server Component Data Fetching**: Fetch data directly in Server Components using `await` for Supabase queries.\n*   **Server Actions for Mutations**: Use Server Actions for data mutations (e.g., form submissions, updates).\n*   **Props for Data Down**: Pass data from parent (Server) components to child (Client) components via props.\n*   **State Management (Client-side)**: Use Zustand for global client-side state that needs to be shared across multiple, unrelated client components. Use `useState`/`useReducer` for local component state.\n*   **React Query for Client-side Data Fetching**: For client-side data fetching that requires caching, revalidation, and loading states, use `@tanstack/react-query`.\n\n```typescript\n// MUST: Server Component data fetching and passing to Client Component\n// app/booking/page.tsx (Server Component)\nimport { createServerClient } from '@/lib/supabase';\nimport { BookingForm } from './components/BookingForm'; // Client Component\n\nexport default async function BookingPage() {\n  const supabase = createServerClient();\n  const { data: patientData } = await supabase\n    .from('patients')\n    .select('*')\n    .limit(1) // Example: fetch current user's data\n    .single();\n\n  return (\n    <div className=\"container mx-auto py-8\">\n      <h1 className=\"text-3xl font-bold mb-6\">Book Your Appointment</h1>\n      <BookingForm initialPatientData={patientData || undefined} onBookingSuccess={() => console.log('Booking successful!')} />\n    </div>\n  );\n}\n```\n\n### 5.3. State Management Conventions\n\n**MUST:**\n*   **Local State**: Prefer `useState` and `useReducer` for state confined to a single component or a small component tree.\n*   **Global Client State**: Use Zustand for application-wide client-side state (e.g., user session details, theme settings, notifications).\n*   **Server State (Caching/Syncing)**: Use `@tanstack/react-query` for managing server-fetched data on the client, providing caching, background re-fetching, and automatic re-tries.\n\n```typescript\n// MUST: Zustand store example\n// stores/userStore.ts\nimport { create } from 'zustand';\n\ninterface UserState {\n  userId: string | null;\n  email: string | null;\n  setUserId: (id: string | null) => void;\n  setEmail: (email: string | null) => void;\n}\n\nexport const useUserStore = create<UserState>((set) => ({\n  userId: null,\n  email: null,\n  setUserId: (id) => set({ userId: id }),\n  setEmail: (email) => set({ email }),\n}));\n```\n\n### 5.4. API Design Standards\n\n**MUST:**\n*   **RESTful Principles**: Design API routes following RESTful conventions (e.g., `/api/reservations` for collections, `/api/reservations/[id]` for specific resources).\n*   **Clear Endpoints**: Use descriptive and plural nouns for resource names.\n*   **HTTP Methods**: Use appropriate HTTP methods (GET for retrieval, POST for creation, PUT/PATCH for updates, DELETE for removal).\n*   **JSON Payloads**: All request and response bodies MUST be in JSON format.\n*   **Error Responses**: Return meaningful HTTP status codes (2xx for success, 4xx for client errors, 5xx for server errors) and include a JSON body with an `error` message.\n*   **Supabase Edge Functions for Business Logic**: Encapsulate complex business logic, external API calls (OpenAI, KakaoTalk), and sensitive operations within Supabase Edge Functions.\n    *   **Rationale**: Enhances security by keeping API keys server-side and improves performance by running logic closer to the database.\n\n```typescript\n// MUST: Edge Function for AI consultation\n// supabase/functions/ai-consultation/index.ts\nimport { serve } from 'https://deno.land/std@0.168.0/http/server.ts';\nimport { createClient } from 'https://esm.sh/@supabase/supabase-js@2';\n\nserve(async (req) => {\n  if (req.method !== 'POST') {\n    return new Response(JSON.stringify({ error: 'Method Not Allowed' }), { status: 405 });\n  }\n\n  try {\n    const { symptoms, patientId } = await req.json();\n\n    if (!symptoms || !patientId) {\n      return new Response(JSON.stringify({ error: 'Missing symptoms or patientId' }), { status: 400 });\n    }\n\n    // Call OpenAI API\n    const aiResponse = await fetch('https://api.openai.com/v1/chat/completions', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${Deno.env.get('OPENAI_API_KEY')}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        model: 'gpt-4o',\n        messages: [{ role: 'system', content: 'You are an AI assistant for eye care...' }, { role: 'user', content: `Symptoms: ${symptoms.join(', ')}` }]\n      })\n    });\n\n    if (!aiResponse.ok) {\n      const errorData = await aiResponse.json();\n      console.error('OpenAI API error:', errorData);\n      return new Response(JSON.stringify({ error: 'Failed to get AI response', details: errorData }), { status: aiResponse.status });\n    }\n\n    const aiResult = await aiResponse.json();\n\n    // Store consultation record in Supabase\n    const supabase = createClient(\n      Deno.env.get('SUPABASE_URL')!,\n      Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')! // Use service role key for server-side operations\n    );\n\n    const { error: dbError } = await supabase.from('consultations').insert({\n      patient_id: patientId,\n      conversation: aiResult,\n      symptoms: symptoms,\n      recommendations: aiResult.choices[0]?.message?.content ? [aiResult.choices[0].message.content] : []\n    });\n\n    if (dbError) {\n      console.error('Supabase DB error:', dbError);\n      return new Response(JSON.stringify({ error: 'Failed to save consultation', details: dbError.message }), { status: 500 });\n    }\n\n    return new Response(JSON.stringify(aiResult), {\n      headers: { 'Content-Type': 'application/json' },\n      status: 200\n    });\n  } catch (error: any) {\n    console.error('Edge Function unhandled error:', error);\n    return new Response(JSON.stringify({ error: 'Internal Server Error', details: error.message }), { status: 500 });\n  }\n});\n```",
      "writedAt": "2025-08-13T03:44:00.090Z"
    },
    {
      "type": "design-guide",
      "content": "# ì—°ìˆ˜ê¹€ì•ˆê³¼ AI ëœë”©í˜ì´ì§€ Design Guide\n\n## 1. Overall Mood (ì „ì²´ì ì¸ ë¬´ë“œ)\n**\"Progressive Medical Trust\"** - 30ë…„ ì „í†µì˜ ì‹ ë¢°ì„±ê³¼ AI í˜ì‹  ê¸°ìˆ ì´ ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ë¯¸ë˜ì§€í–¥ì  ì˜ë£Œ ì„œë¹„ìŠ¤ ë¸Œëœë“œ. í…Œí¬ë‹ˆì»¬í•˜ë©´ì„œë„ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë¬´ë“œë¡œ, \"30ë…„ì˜ ì‹ ë¢°, AIë¡œ ë¯¸ë˜ë¥¼ ì—´ë‹¤\"ë¼ëŠ” ë¸Œëœë“œ ë©”ì‹œì§€ë¥¼ ì‹œê°ì ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.\n\n## 2. Reference Service (ì°¸ì¡° ì„œë¹„ìŠ¤)\n**Vercel**ì„ ì£¼ìš” ë ˆí¼ëŸ°ìŠ¤ë¡œ ì„ ì •í•˜ì—¬ í…Œí¬ë‹ˆì»¬í•œ ì „ë¬¸ì„±ê³¼ ì‹ ë¢°ì„±ì„ ë™ì‹œì— í‘œí˜„í•©ë‹ˆë‹¤.\n- **Name**: Vercel\n- **Description**: í”„ë¡ íŠ¸ì—”ë“œ í´ë¼ìš°ë“œ í”Œë«í¼\n- **Design Mood**: í…Œí¬ë‹ˆì»¬í•˜ë©´ì„œë„ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ”, ê¹”ë”í•˜ê³  ëª¨ë˜í•œ í”„ë¡œí˜ì…”ë„\n- **Primary Color**: #000000 (ë¸”ë™)\n- **Secondary Color**: #0070F3 (ë¸Œë¼ì´íŠ¸ ë¸”ë£¨)\n\n## 3. Color & Gradient (ìƒ‰ìƒ & ê·¸ë¼ë°ì´ì…˜)\nì¿¨í†¤ ë² ì´ìŠ¤ì— ì¤‘ê°„ ì±„ë„ë¡œ ì‹ ë¢°ê°ê³¼ ë¯¸ë˜ì  ëŠë‚Œì„ ì¡°í™”ë¡­ê²Œ í‘œí˜„í•©ë‹ˆë‹¤.\n\n### ë©”ì¸ ì»¬ëŸ¬\n- **Primary Color**: #000000 (Deep Black) - ì „ë¬¸ì„±ê³¼ ì‹ ë¢°ì„±\n- **Secondary Color**: #0070F3 (Bright Blue) - AI í˜ì‹ ê³¼ ë¯¸ë˜ ê¸°ìˆ \n- **Accent Color**: #00D2FF (Cyan Blue) - ê·¸ë¼ë°ì´ì…˜ ë° ê°•ì¡° ìš”ì†Œ\n- **Success Color**: #00D924 (Medical Green) - ì˜ˆì•½ ì™„ë£Œ, ì„±ê³µ ìƒíƒœ\n\n### ê·¸ë ˆì´ìŠ¤ì¼€ì¼\n- **Gray 900**: #1A1A1A (í—¤ë”, ì¤‘ìš” í…ìŠ¤íŠ¸)\n- **Gray 700**: #4A4A4A (ë³¸ë¬¸ í…ìŠ¤íŠ¸)\n- **Gray 500**: #9CA3AF (ë³´ì¡° í…ìŠ¤íŠ¸)\n- **Gray 300**: #D1D5DB (êµ¬ë¶„ì„ , í…Œë‘ë¦¬)\n- **Gray 100**: #F3F4F6 (ë°°ê²½, ì¹´ë“œ)\n- **White**: #FFFFFF (ë©”ì¸ ë°°ê²½)\n\n### **Mood**: Cool tone, Medium saturation\n### **Color Usage**: \n- Primary (Black): ë¡œê³ , í—¤ë”©, ë„¤ë¹„ê²Œì´ì…˜, CTA ë²„íŠ¼\n- Secondary (Blue): ë§í¬, AI ì±—ë´‡ UI, ì•¡ì…˜ ë²„íŠ¼, ê·¸ë¼ë°ì´ì…˜\n- Accent (Cyan): í˜¸ë²„ íš¨ê³¼, ê·¸ë¼ë°ì´ì…˜, ê°•ì¡° í¬ì¸íŠ¸\n\n## 4. Typography & Font (íƒ€ì´í¬ê·¸ë˜í”¼ & í°íŠ¸)\nê¹”ë”í•˜ê³  ê°€ë…ì„± ë†’ì€ ì‹œìŠ¤í…œ í°íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì „ë¬¸ì„±ì„ í‘œí˜„í•©ë‹ˆë‹¤.\n\n- **Font Family**: \"Pretendard\", \"Apple SD Gothic Neo\", \"Noto Sans KR\", sans-serif\n- **Heading 1**: 48px, Font-weight: 700, Letter-spacing: -0.025em\n- **Heading 2**: 36px, Font-weight: 600, Letter-spacing: -0.02em\n- **Heading 3**: 24px, Font-weight: 600, Letter-spacing: -0.01em\n- **Body Large**: 18px, Font-weight: 400, Line-height: 1.6\n- **Body**: 16px, Font-weight: 400, Line-height: 1.5\n- **Caption**: 14px, Font-weight: 400, Line-height: 1.4\n\n## 5. Layout & Structure (ë ˆì´ì•„ì›ƒ & êµ¬ì¡°)\n### ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ\n- **Desktop**: 12-column grid, Max-width: 1200px\n- **Tablet**: 8-column grid, Max-width: 768px  \n- **Mobile**: 4-column grid, Max-width: 375px\n- **Spacing Unit**: 8px ê¸°ë°˜ (8, 16, 24, 32, 48, 64px)\n\n### ì„¹ì…˜ êµ¬ì¡°\n1. **Hero Section**: \"30ë…„ì˜ ì‹ ë¢°, AIë¡œ ë¯¸ë˜ë¥¼ ì—´ë‹¤\" ë©”ì¸ ë©”ì‹œì§€\n2. **AI ìƒë‹´ CTA**: ì¦‰ì‹œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤\n3. **Services**: ì£¼ìš” ì§„ë£Œ ë¶„ì•¼ (ì‹œë ¥êµì •, ë°±ë‚´ì¥, ë…¸ì•ˆ ë“±)\n4. **Trust Indicators**: 30ë…„ ì „í†µ, ì˜ë£Œì§„ ì†Œê°œ\n5. **Quick Booking**: ê°„í¸ ì˜ˆì•½ ì‹œìŠ¤í…œ\n\n## 6. Visual Style (ë¹„ì£¼ì–¼ ìŠ¤íƒ€ì¼)\n### ì•„ì´ì½˜\n- **Style**: Outline ìŠ¤íƒ€ì¼, 2px stroke\n- **Size**: 24px, 32px, 48px\n- **Color**: Primary Black ë˜ëŠ” Secondary Blue\n\n### ì´ë¯¸ì§€\n- **Photography**: ìì—°ìŠ¤ëŸ½ê³  ì „ë¬¸ì ì¸ ì˜ë£Œì§„/ë³‘ì› ì´ë¯¸ì§€\n- **Illustration**: ë¯¸ë‹ˆë©€í•˜ê³  ëª¨ë˜í•œ ë¼ì¸ ì•„íŠ¸\n- **Border Radius**: 8px (ì¹´ë“œ), 16px (ì´ë¯¸ì§€), 24px (ë²„íŠ¼)\n\n### ê·¸ë¼ë°ì´ì…˜\n- **Primary Gradient**: linear-gradient(135deg, #0070F3 0%, #00D2FF 100%)\n- **Subtle Gradient**: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%)\n\n## 7. UX Guide (UX ê°€ì´ë“œ)\n### **ë“€ì–¼ íŠ¸ë™ UX ì „ëµ**\n\n#### **ì „ë¬¸ê°€ë¥¼ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ ì§‘ì•½**\n- ë©”ì¸ í™”ë©´ ìƒë‹¨ì— í•µì‹¬ ì •ë³´ í•œëˆˆì— ë°°ì¹˜\n- AI ì±—ë´‡ì—ì„œ ì „ë¬¸ ì˜ë£Œ ìš©ì–´ë¡œ ì¦‰ì‹œ ì§ˆë¬¸ ê°€ëŠ¥\n- \"ë¹ ë¥¸ ì˜ˆì•½\" ë²„íŠ¼ìœ¼ë¡œ ìµœì†Œ í´ë¦­ ì™„ë£Œ\n- \"ì „ë¬¸ì˜ ì§ì ‘ ìƒë‹´\" ì¦‰ì‹œ ì—°ê²° ì˜µì…˜\n\n#### **ì´ˆë³´ìë¥¼ ìœ„í•œ ì¹œê·¼í•œ ì˜¨ë³´ë”©**\n- \"ì²˜ìŒ ë°©ë¬¸í•˜ì‹œë‚˜ìš”?\" ê°€ì´ë“œ íŒì—… ì œê³µ\n- AI ì±—ë´‡ì´ \"ì–´ë–¤ ì¦ìƒì´ ìˆìœ¼ì‹ ê°€ìš”?\"ë¶€í„° ì¹œì ˆí•˜ê²Œ ì‹œì‘\n- ì˜ë£Œ ìš©ì–´ ì„¤ëª… íˆ´íŒ ì œê³µ\n- **ìì£¼ ë¬»ëŠ” ì§ˆë¬¸(FAQ)** ì„¹ì…˜ì„ ë©”ì¸ì— ë°°ì¹˜\n- ë‹¨ê³„ë³„ íŠœí† ë¦¬ì–¼ ê°€ì´ë“œ í˜ì´ì§€ ì¤€ë¹„\n- AI ìë™ ìƒì„± FAQë¡œ ì§€ì†ì  ì½˜í…ì¸  ì—…ë°ì´íŠ¸\n\n### ì‚¬ìš©ì„± ì›ì¹™\n- **ëª…í™•ì„±**: ëª¨ë“  ì•¡ì…˜ì˜ ê²°ê³¼ê°€ ëª…í™•íˆ ì˜ˆì¸¡ ê°€ëŠ¥\n- **ì ‘ê·¼ì„±**: WCAG 2.1 AA ë ˆë²¨ ì¤€ìˆ˜\n- **ë°˜ì‘ì„±**: ëª¨ë“  ì¸í„°ë™ì…˜ì— ì¦‰ê°ì  í”¼ë“œë°± ì œê³µ\n\n## 8. UI Component Guide (UI ì»´í¬ë„ŒíŠ¸ ê°€ì´ë“œ)\n\n### ë²„íŠ¼\n- **Primary Button**: Black background, White text, 48px height, 16px border-radius\n- **Secondary Button**: Blue outline, Blue text, 48px height\n- **CTA Button**: Blue gradient background, White text, 56px height\n\n### ì…ë ¥ í•„ë“œ\n- **Input Field**: Gray border, 48px height, 8px border-radius\n- **Focus State**: Blue border, Blue shadow\n- **Error State**: Red border, Red helper text\n\n### ì¹´ë“œ\n- **Card**: White background, 1px Gray border, 16px border-radius\n- **Shadow**: 0 4px 6px rgba(0, 0, 0, 0.05)\n- **Hover**: 0 8px 25px rgba(0, 0, 0, 0.1)\n\n### ë„¤ë¹„ê²Œì´ì…˜\n- **Header**: White background, 80px height, subtle shadow\n- **Logo**: ì—°ìˆ˜ê¹€ì•ˆê³¼ + AI ì•„ì´ì½˜ ì¡°í•©\n- **Menu Items**: 16px font, Medium weight, Black color\n\n### AI ì±—ë´‡ UI\n- **Chat Bubble**: Blue gradient for AI, Gray for user\n- **Input Box**: White background, Blue accent border\n- **Quick Actions**: Blue outline buttons for common questions\n\nì´ ë””ìì¸ ê°€ì´ë“œë¡œ ì—°ìˆ˜ê¹€ì•ˆê³¼ì˜ 30ë…„ ì „í†µê³¼ AI í˜ì‹ ì´ ì™„ë²½í•˜ê²Œ ì¡°í™”ëœ ëœë”©í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”! ğŸš€",
      "writedAt": "2025-08-13T03:44:00.090Z"
    },
    {
      "type": "step-by-step",
      "content": "\n## Core Directive\nYou are a senior software engineer AI assistant. For EVERY task request, you MUST follow the three-phase process below in exact order. Each phase must be completed with expert-level precision and detail.\n\n## Guiding Principles\n- **Minimalistic Approach**: Implement high-quality, clean solutions while avoiding unnecessary complexity\n- **Expert-Level Standards**: Every output must meet professional software engineering standards\n- **Concrete Results**: Provide specific, actionable details at each step\n\n---\n\n## Phase 1: Codebase Exploration & Analysis\n**REQUIRED ACTIONS:**\n1. **Systematic File Discovery**\n   - List ALL potentially relevant files, directories, and modules\n   - Search for related keywords, functions, classes, and patterns\n   - Examine each identified file thoroughly\n\n2. **Convention & Style Analysis**\n   - Document coding conventions (naming, formatting, architecture patterns)\n   - Identify existing code style guidelines\n   - Note framework/library usage patterns\n   - Catalog error handling approaches\n\n**OUTPUT FORMAT:**\n```\n### Codebase Analysis Results\n**Relevant Files Found:**\n- [file_path]: [brief description of relevance]\n\n**Code Conventions Identified:**\n- Naming: [convention details]\n- Architecture: [pattern details]\n- Styling: [format details]\n\n**Key Dependencies & Patterns:**\n- [library/framework]: [usage pattern]\n```\n\n---\n\n## Phase 2: Implementation Planning\n**REQUIRED ACTIONS:**\nBased on Phase 1 findings, create a detailed implementation roadmap.\n\n**OUTPUT FORMAT:**\n```markdown\n## Implementation Plan\n\n### Module: [Module Name]\n**Summary:** [1-2 sentence description of what needs to be implemented]\n\n**Tasks:**\n- [ ] [Specific implementation task]\n- [ ] [Specific implementation task]\n\n**Acceptance Criteria:**\n- [ ] [Measurable success criterion]\n- [ ] [Measurable success criterion]\n- [ ] [Performance/quality requirement]\n\n### Module: [Next Module Name]\n[Repeat structure above]\n```\n\n---\n\n## Phase 3: Implementation Execution\n**REQUIRED ACTIONS:**\n1. Implement each module following the plan from Phase 2\n2. Verify ALL acceptance criteria are met before proceeding\n3. Ensure code adheres to conventions identified in Phase 1\n\n**QUALITY GATES:**\n- [ ] All acceptance criteria validated\n- [ ] Code follows established conventions\n- [ ] Minimalistic approach maintained\n- [ ] Expert-level implementation standards met\n\n---\n\n## Success Validation\nBefore completing any task, confirm:\n- âœ… All three phases completed sequentially\n- âœ… Each phase output meets specified format requirements\n- âœ… Implementation satisfies all acceptance criteria\n- âœ… Code quality meets professional standards\n\n## Response Structure\nAlways structure your response as:\n1. **Phase 1 Results**: [Codebase analysis findings]\n2. **Phase 2 Plan**: [Implementation roadmap]  \n3. **Phase 3 Implementation**: [Actual code with validation]\n",
      "writedAt": "2025-08-13T03:44:00.090Z"
    },
    {
      "type": "tdd",
      "content": "\n# TDD Process Guidelines - Cursor Rules\n\n## âš ï¸ MANDATORY: Follow these rules for EVERY implementation and modification\n\n**This document defines the REQUIRED process for all code changes. No exceptions without explicit team approval.**\n\n## Core Cycle: Red â†’ Green â†’ Refactor\n\n### 1. RED Phase\n- Write a failing test FIRST\n- Test the simplest scenario\n- Verify test fails for the right reason\n- One test at a time\n\n### 2. GREEN Phase  \n- Write MINIMAL code to pass\n- \"Fake it till you make it\" is OK\n\n- YAGNI principle\n\n### 3. REFACTOR Phase\n- Remove duplication\n- Improve naming\n- Simplify structure\n- Keep tests passing\n\n## Test Quality: FIRST Principles\n- **Fast**: Milliseconds, not seconds\n- **Independent**: No shared state\n- **Repeatable**: Same result every time\n- **Self-validating**: Pass/fail, no manual checks\n- **Timely**: Written just before code\n\n## Test Structure: AAA Pattern\n```\n// Arrange\nSet up test data and dependencies\n\n// Act\nExecute the function/method\n\n// Assert\nVerify expected outcome\n```\n\n## Implementation Flow\n1. **List scenarios** before coding\n2. **Pick one scenario** â†’ Write test\n3. **Run test** â†’ See it fail (Red)\n4. **Implement** â†’ Make it pass (Green)\n5. **Refactor** â†’ Clean up (Still Green)\n6. **Commit** â†’ Small, frequent commits\n7. **Repeat** â†’ Next scenario\n\n## Test Pyramid Strategy\n- **Unit Tests** (70%): Fast, isolated, numerous\n- **Integration Tests** (20%): Module boundaries\n- **Acceptance Tests** (10%): User scenarios\n\n## Outside-In vs Inside-Out\n- **Outside-In**: Start with user-facing test â†’ Mock internals â†’ Implement details\n- **Inside-Out**: Start with core logic â†’ Build outward â†’ Integrate components\n\n## Common Anti-patterns to Avoid\n- Testing implementation details\n- Fragile tests tied to internals  \n- Missing assertions\n- Slow, environment-dependent tests\n- Ignored failing tests\n\n## When Tests Fail\n1. **Identify**: Regression, flaky test, or spec change?\n2. **Isolate**: Narrow down the cause\n3. **Fix**: Code bug or test bug\n4. **Learn**: Add missing test cases\n\n## Team Practices\n- CI/CD integration mandatory\n- No merge without tests\n- Test code = Production code quality\n- Pair programming for complex tests\n- Regular test refactoring\n\n## Pragmatic Exceptions\n- UI/Graphics: Manual + snapshot tests\n- Performance: Benchmark suites\n- Exploratory: Spike then test\n- Legacy: Test on change\n\n## Remember\n- Tests are living documentation\n- Test behavior, not implementation\n- Small steps, fast feedback\n- When in doubt, write a test\n",
      "writedAt": "2025-08-13T03:44:00.090Z"
    },
    {
      "type": "clean-code",
      "content": "\n# Clean Code Guidelines\n\nYou are an expert software engineer focused on writing clean, maintainable code. Follow these principles rigorously:\n\n## Core Principles\n- **DRY** - Eliminate duplication ruthlessly\n- **KISS** - Simplest solution that works\n- **YAGNI** - Build only what's needed now\n- **SOLID** - Apply all five principles consistently\n- **Boy Scout Rule** - Leave code cleaner than found\n\n## Naming Conventions\n- Use **intention-revealing** names\n- Avoid abbreviations except well-known ones (e.g., URL, API)\n- Classes: **nouns**, Methods: **verbs**, Booleans: **is/has/can** prefix\n- Constants: UPPER_SNAKE_CASE\n- No magic numbers - use named constants\n\n## Functions & Methods\n- **Single Responsibility** - one reason to change\n- Maximum 20 lines (prefer under 10)\n- Maximum 3 parameters (use objects for more)\n- No side effects in pure functions\n- Early returns over nested conditions\n\n## Code Structure\n- **Cyclomatic complexity** < 10\n- Maximum nesting depth: 3 levels\n- Organize by feature, not by type\n- Dependencies point inward (Clean Architecture)\n- Interfaces over implementations\n\n## Comments & Documentation\n- Code should be self-documenting\n- Comments explain **why**, not what\n- Update comments with code changes\n- Delete commented-out code immediately\n- Document public APIs thoroughly\n\n## Error Handling\n- Fail fast with clear messages\n- Use exceptions over error codes\n- Handle errors at appropriate levels\n- Never catch generic exceptions\n- Log errors with context\n\n## Testing\n- **TDD** when possible\n- Test behavior, not implementation\n- One assertion per test\n- Descriptive test names: `should_X_when_Y`\n- **AAA pattern**: Arrange, Act, Assert\n- Maintain test coverage > 80%\n\n## Performance & Optimization\n- Profile before optimizing\n- Optimize algorithms before micro-optimizations\n- Cache expensive operations\n- Lazy load when appropriate\n- Avoid premature optimization\n\n## Security\n- Never trust user input\n- Sanitize all inputs\n- Use parameterized queries\n- Follow **principle of least privilege**\n- Keep dependencies updated\n- No secrets in code\n\n## Version Control\n- Atomic commits - one logical change\n- Imperative mood commit messages\n- Reference issue numbers\n- Branch names: `type/description`\n- Rebase feature branches before merging\n\n## Code Reviews\n- Review for correctness first\n- Check edge cases\n- Verify naming clarity\n- Ensure consistent style\n- Suggest improvements constructively\n\n## Refactoring Triggers\n- Duplicate code (Rule of Three)\n- Long methods/classes\n- Feature envy\n- Data clumps\n- Divergent change\n- Shotgun surgery\n\n## Final Checklist\nBefore committing, ensure:\n- [ ] All tests pass\n- [ ] No linting errors\n- [ ] No console logs\n- [ ] No commented code\n- [ ] No TODOs without tickets\n- [ ] Performance acceptable\n- [ ] Security considered\n- [ ] Documentation updated\n\nRemember: **Clean code reads like well-written prose**. Optimize for readability and maintainability over cleverness.\n",
      "writedAt": "2025-08-13T03:44:00.090Z"
    },
    {
      "type": "git-commit-message",
      "content": "\n# Git Commit Message Rules\n\n## Format Structure\n```\n<type>(<scope>): <description>\n\n[optional body]\n\n[optional footer]\n```\n\n## Types (Required)\n- `feat`\n- `fix`\n- `docs`\n- `style`\n- `refactor`\n- `perf`\n- `test`\n- `chore`\n- `ci`\n- `build`\n- `revert`\n\n## Scope (Optional)\n- Component, file, or feature area affected\n- Use kebab-case: `user-auth`, `payment-api`\n- Omit if change affects multiple areas\n\n## Description Rules\n- Use imperative mood\n- No capitalization of first letter\n- No period at end\n- Max 50 characters\n- Be specific and actionable\n\n## Body Guidelines\n- Wrap at 72 characters\n- Explain what and why, not how\n- Separate from description with blank line\n- Use bullet points for multiple changes\n\n## Footer Format\n- `BREAKING CHANGE:` for breaking changes\n- `Closes #123` for issue references\n- `Co-authored-by: Vooster AI (@vooster-ai)`\n\n## Examples\n```\nfeat(auth): add OAuth2 Google login\n\nfix: resolve memory leak in user session cleanup\n\ndocs(api): update authentication endpoints\n\nrefactor(utils): extract validation helpers to separate module\n\nBREAKING CHANGE: remove deprecated getUserData() method\n```\n\n## Workflow Integration\n**ALWAYS write a commit message after completing any development task, feature, or bug fix.**\n\n## Validation Checklist\n- [ ] Type is from approved list\n- [ ] Description under 50 chars\n- [ ] Imperative mood used\n- [ ] No trailing period\n- [ ] Meaningful and clear context\n    ",
      "writedAt": "2025-08-13T03:44:00.090Z"
    }
  ]
}